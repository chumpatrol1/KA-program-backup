<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Choobader City's Telagraph</title>
    <link rel="stylesheet" href="../../build/css/live-editor.core_deps.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.audio.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.tooltips.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.ui.css"/>
<style>
        body {
            padding: 20px;
        }
        h1 {
            padding: 0;
            margin: 0 0 20px 0;
        }
        #sample-live-editor {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>Choobader City's Telagraph</h1>
    <div id="sample-live-editor"></div>
    <script src="../../build/js/live-editor.core_deps.js"></script>
    <script src="../../build/js/live-editor.editor_ace_deps.js"></script>
    <script src="../../build/js/live-editor.audio.js"></script>
    <script src="../../build/js/live-editor.shared.js"></script>
    <script src="../../build/js/live-editor.tooltips.js"></script>
    <script src="../../build/js/live-editor.ui.js"></script>
    <script src="../../build/js/live-editor.editor_ace.js"></script>
    <script>
    var outputUrl = "../output.html";
var code = "/**Choobader City's Telagraph by David Elijah de Siqueira Campos McLaughlin\nOriginal size(400, 400);\nOriginally Created on 2013-02-20T22:32:19Z by kaid_976851263300560061760577\nLast Edited: 2013-02-20T22:32:19Z\nVotes/Spinoffs: 1/2\nOriginally Created: 2013-02-21T00:01:46Z from origin 1309746332 with similarity of 0.8937544024418878\nOriginal Link: https://www.khanacademy.org/computer-programming/choobader-citys-telagraph/1397128838\nRetrieved On: 07-Nov-2022 (17:07:33.394301)**/\
";

code = code + "\n/**\n\nOpen and close shuters to explore how they define\nnew decision paths (which lead to letters or messages)\n\nQuestion:\n\nHow many shutters (minimum) are needed to communicate all things?\n\n\n\n\n\n\n\n\n\n\n  Development (TODO):\n    - animate the shutters (on/off - frameCount)\n    - adjust 1-->n(6?) shutters\n    - animate the decision path\n    - display the resultant node index (0-->63)\n    - round shutters in a square frame\n    - add a switch\n    - recursive double-linked list\n    - make it really perdy!\n    - ...\n**/\nvar w = color(255, 255, 255);\nvar COLORS={\n\n  _WHITE: color(255,255,255,255), WHITE_LT:   color(255,255,255,128),\n  _BLACK: color(0,0,0,255),       BLACK_LT:   color(0,0,0,128),\n\n  RED:    color(170,29,29,255),   RED_LT:     color(170,29,29,128),\n  BLUE:   color(29,86,170,255),   BLUE_LT:    color(29,86,170,128),\n  YELLOW: color(238,214,15,255),  YELLOW_LT:  color(238,214,15,128),\n\n  ORANGE: color(238,136,15,255),  ORANGE_LT:  color(238,136,15,128),\n  GREEN:  color(158,182,58,255),  GREEN_LT:   color(158,182,58,128),\n  GRAY:   color(128,128,128,255), GRAY_LT:    color(128,128,128,128),\n\n  BROWN:  color(155,145,135,255), BROWN_LT:   color(155,145,135,128),\n\n  A:  color(244, 98, 134), B: color(49, 180, 197), C: color(244, 254, 40),\n  D:  color(242, 0, 227),  E: color(240, 240, 250),\n\n  TEXT: color(255,255,255,255),\n\n  CONTROL:      color(128,128,128,255), CONTROL_LT:       color(160,160,160,255),\n  CONTROL_FILL: color(242,242,242,255), CONTROL_FILL_DK:  color(232,232,232,255),\n\n  CONTROL_:     color(192,192,192,255),\n  \n  //  Skills Completion\n  SKILL_PEACH:  color(242,184,145,255), SKILL_CYAN:   color(199,229,247,255),\n  SKILL_RED:    color(195,2,2,255),     SKILL_BLUE:   color(0,128,201,255),\n\n  //  Focus\n  FOCUS_PURPLE:   color(128,105,155,255), FOCUS_TEAL:     color(61,150,174,255),\n  FOCUS_GREEN:    color(137,165,78,255),  FOCUS_GREEN_LT: color(181,202,146,255),\n  FOCUS_BLUE:     color(69,114,167,255),  FOCUS_BLUE_LT:  color(146,168,205,255),\n  FOCUS_RED:      color(170,70,67,255),   FOCUS_RED_LT:   color(164,125,124,255),\n  FOCUS_ORANGE:   color(219,132,61,255),\n\n  //  Goals\n  GOAL_STARTED:       color(199,229,247,255), GOAL_PROFICIENT:    color(0,128,210,255),\n  GOAL_STRUGGLING:    color(195,2,2,255),     GOAL_COMPLETE:      color(58,71,89,255)\n\n};\n\nvar DEBUG=true;\n\nvar sizeX=400;//screen.width-200;\nvar sizeY=400;//screen.height-200;\n\n//size(sizeX, sizeY);\n\nframeRate(30);\n\nvar CONTROLS={  SHUTTER:  0 };\n                \nvar DEBUG=true;\n\nframeRate(30);\n\nvar prop=function(i,t,m,x,y,w,h,v,f){\n  \n  this.i=i;   //  index\n  this.t=t;   //  control type\n  this.m=m;   //  text\n  this.x=x;   //  left\n  this.y=y;   //  top\n  this.w=w;   //  width\n  this.h=h;   //  height\n  this.v=v;   //  value\n  this.f=f;   //  execute function\n\n};\n\nvar bit=[0,0,0,0,0,0];\n\nvar clickShutter=function(i){\n\n  //println(\"shutter:  \" + i);\n  bit[i]=!bit[i];\n  //printBit();\n  \n};\nvar printBit=function(){\n\n  var t=\"\";\n  \n  for(var n=0; n<6;n++){\n    t+=bit[n] + \",\";\n  }\n\n  println(t);\n  \n};\n\nvar shutter=function(prop){\n\n  var _p=prop;\n  var incr=_p.h/5;\n  var border=COLORS.RED;\n  \n  var _hit=function(x,y){\n    if(x>_p.x && x<_p.x + _p.w &&\n       y>_p.y && y<_p.y + _p.h){ return true; }\n  };\n  var _draw=function(x,y){\n\n    var h=incr;\n      \n    if(_hit(x,y)){ border=COLORS.YELLOW;  }\n    else         { border=COLORS._WHITE;     }\n\n    if(_p.v){ h=2;  }\n    else    { h=incr;     }\n    \n    strokeWeight(1);\n    stroke(border);\n      \n      fill(COLORS._BLACK);\n      rect(_p.x, _p.y, _p.w, _p.h);\n\n      fill(COLORS.YELLOW);\n      ellipse(_p.x+_p.w/2, _p.y+_p.h/2, _p.w-5, _p.h-5);\n      noFill();\n      stroke(COLORS.GRAY);\n      ellipse(_p.x+_p.w/2,_p.y+_p.h/2,_p.w*0.75,_p.h*0.75);\n      ellipse(_p.x+_p.w/2,_p.y+_p.h/2,_p.w*0.5,_p.h*0.5);\n      ellipse(_p.x+_p.w/2,_p.y+_p.h/2,_p.w*0.25,_p.h*0.25);\n      fill(COLORS.GRAY);\n      ellipse(_p.x+_p.w/2,_p.y+_p.h/2,_p.w*0.05,_p.h*0.05);\n                  \n        stroke(COLORS._BLACK);\n        fill(COLORS.GRAY);\n        \n        rect(_p.x, _p.y, _p.w, h);\n        rect(_p.x, _p.y+incr, _p.w, h);\n        rect(_p.x, _p.y+2*incr, _p.w, h);\n        rect(_p.x, _p.y+3*incr, _p.w, h);\n        rect(_p.x, _p.y+4*incr, _p.w, h);\n      \n\n      \n      noStroke();\n      //if(_p.v){ fill(192,192,192,255); }\n      //else    { fill(160,160,160,255); }\n      \n      fill(160,160,160,255);\n      ellipse(_p.x+30,150,25,25);\n\n      if(_p.v){ fill(COLORS._WHITE); }\n      else    { fill(COLORS.YELLOW); }\n      \n      textSize(16);\n      textAlign(CENTER,CENTER);\n      \n      text(_p.m,  _p.x+30, 150);\n\n  };\n  this.refresh=function(x,y){\n    _draw(x,y);\n  };\n  this.click=function(x,y){\n    if(_hit(x,y)){ _p.f(_p.i); _p.v=!_p.v; }\n  };\n};\nvar controls=function(){\n\n  var _controls=[];\n\n  this.add=function(prop){      //  ADD\n    switch (prop.t){\n      case CONTROLS.SHUTTER: _controls.push(new shutter(prop)); break;\n      case CONTROLS.SPACE: break;\n      default:\n    }    \n  };\n  this.refresh=function(x,y){   //  REFRESH\n    for(var ctl in _controls)  { _controls[ctl].refresh(x,y);  }\n  };\n  this.update=function(x,y){    //  UPDATE\n    for(var ctl in _controls)  { _controls[ctl].update(x,y);   }\n  };\n  this.click=function(x,y){     //  CLICK\n    for(var ctl in _controls)  { _controls[ctl].click(x,y);    }\n  };\n  \n  this.item=function(n)  { return _controls[n];       };\n  this.length=function(){ return _controls.length;  };\n\n};\nvar controls=new controls();\n\n//  Shutter         ( lit, x, y, orientation, ?, type, function\ncontrols.add(new prop(0,CONTROLS.SHUTTER, \"A\", 5, 330,60,60,false,clickShutter));\ncontrols.add(new prop(1,CONTROLS.SHUTTER, \"B\", 70, 330,60,60,false,clickShutter));\ncontrols.add(new prop(2,CONTROLS.SHUTTER, \"C\", 135, 330,60,60,false,clickShutter));\ncontrols.add(new prop(3,CONTROLS.SHUTTER, \"D\", 200, 330,60,60,false,clickShutter));\ncontrols.add(new prop(4,CONTROLS.SHUTTER, \"E\", 265, 330,60,60,false,clickShutter));\ncontrols.add(new prop(5,CONTROLS.SHUTTER, \"F\", 330, 330,60,60,false,clickShutter));\n\nvar drawPath=function(){\n\n  pushMatrix();\n  \n    translate(1,150);\n    stroke(COLORS.YELLOW);\n    strokeWeight(2);\n    var y=0;\n    var y1=0;\n    var v=75;\n    \n    if(bit[0]){y1-=v;} else { y1+=v; }\n    line(35,y,100,y1);\n    y=y1;\n    v/=2;\n    \n    if(bit[1]){y1-=v;} else { y1+=v; }\n    line(100,y,165,y1);\n    y=y1;\n    v/=2;\n    \n    if(bit[2]){y1-=v;} else { y1+=v; }\n    line(165,y,230,y1);\n    y=y1;\n    v/=2;\n    \n    if(bit[3]){y1-=v;} else { y1+=v; }\n    line(230,y,295,y1);\n    y=y1;\n    v/=2;\n\n    if(bit[4]){y1-=v;} else { y1+=v; }\n    line(295,y,360,y1);\n    y=y1;\n    v/=2;\n    \n    if(bit[5]){y1-=v;} else { y1+=v; }\n    line(360,y,390,y1);\n    y=y1;\n    v/=2;\nif(bit[0]&&!bit[1]&&!bit[2]&&!bit[3]&&!bit[4]&&!bit[5]){\n    fill(255, 255, 255);\n    textSize(20);\n    text(\"A\",10,20);\n}\nif(bit[0]&&bit[1]&&!bit[2]&&!bit[3]&&!bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"B\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&!bit[3]&&!bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"C\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&bit[3]&&!bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"D\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&bit[3]&&bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"E\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&bit[3]&&bit[4]&&bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"F\",10,20);\n}\nif(bit[0]&&!bit[1]&&bit[2]&&!bit[3]&&!bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"G\",10,20);\n}\nif(bit[0]&&!bit[1]&&!bit[2]&&bit[3]&&!bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"H\",10,20);\n}\nif(bit[0]&&!bit[1]&&!bit[2]&&!bit[3]&&bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"I\",10,20);\n}\nif(bit[0]&&!bit[1]&&!bit[2]&&!bit[3]&&!bit[4]&&bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"J\",10,20);\n}\nif(bit[0]&&bit[1]&&!bit[2]&&bit[3]&&!bit[4]&&!bit[5]){\n   fill(255);\n    textSize(20);\n    text(\"K\",10,20);\n}\nif(bit[0]&&bit[1]&&!bit[2]&&!bit[3]&&bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"L\",10,20);\n}\nif(bit[0]&&bit[1]&&!bit[2]&&!bit[3]&&!bit[4]&&bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"M\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&!bit[3]&&bit[4]&&!bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"N\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&!bit[3]&&bit[4]&&bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"O\",10,20);\n}\nif(bit[0]&&bit[1]&&bit[2]&&!bit[3]&&!bit[4]&&bit[5]){\n    fill(255);\n    textSize(20);\n    text(\"P\",10,20);\n}\n  popMatrix();\n  \n};\n\nvar drawRank=function(x,y,w,h,count){\n\n  var offset=h/(2*count);\n  var incr=h/count;\n\n  for (var n=0; n<count; n++){\n\n    y=n*incr+offset;\n\n    if(n%2){ line(x, y-incr/2, x+w, y); }\n    else   { line(x, y+incr/2, x+w, y); }\n    \n  }  \n\n};\n\nvar draw=function() {\n\n  background(COLORS._BLACK);\n\n  stroke(192,0,0);\n\n  textAlign(CENTER,CENTER);\n\n  stroke(COLORS.RED);\n  strokeWeight(1);\n  drawRank(35,96,65,300,2);\n  drawRank(100,24,65,300,4);\n  drawRank(165,16,65,300,8);\n  drawRank(230,8,65,300,16);\n  drawRank(295,4,65,300,32);\n  drawRank(360,2,30,300,64);\n\n  drawPath();\n  \n  controls.refresh(mouseX,mouseY);\n                  \n};\n\n\n\nvar mouseMoved=function(){\n\n    //text(mouseX + \", \" + mouseY,100,100);\n  \n};\n\nvar pressed=false;\n\nvar mouseOut=function(){  };\nvar mouseOver=function(){  };\nvar mouseClicked=function(){ controls.click(mouseX, mouseY); };\nvar mousePressed=function(){  };\nvar mouseReleased=function(){  };\n";
window.liveEditor = new LiveEditor({
                el: $("#sample-live-editor"),
                code: code,
                width: 400,
                height: 400,
                editorHeight: "80%",
                autoFocus: true,
                workersDir: "../../build/workers/",
                externalsDir: "../../build/external/",
                imagesDir: "../../build/images/",
                soundsDir: "../../sounds/",
                execFile: outputUrl,
                jshintFile: "../../build/external/jshint/jshint.js",
                newErrorExperience: true,
            });
            liveEditor.editor.on("change", function() {
                window.localStorage["test-code"] = liveEditor.editor.text();
            });
            ScratchpadAutosuggest.init(liveEditor.editor.editor);
            </script>
        </body>
        </html>
        