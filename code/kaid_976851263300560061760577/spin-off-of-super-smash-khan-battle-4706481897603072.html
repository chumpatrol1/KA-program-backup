<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Spin-off of "Super Smash Khan Battle!"</title>
    <link rel="stylesheet" href="../../build/css/live-editor.core_deps.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.audio.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.tooltips.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.ui.css"/>
<style>
        body {
            padding: 20px;
        }
        h1 {
            padding: 0;
            margin: 0 0 20px 0;
        }
        #sample-live-editor {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>Spin-off of "Super Smash Khan Battle!"</h1>
    <div id="sample-live-editor"></div>
    <script src="../../build/js/live-editor.core_deps.js"></script>
    <script src="../../build/js/live-editor.editor_ace_deps.js"></script>
    <script src="../../build/js/live-editor.audio.js"></script>
    <script src="../../build/js/live-editor.shared.js"></script>
    <script src="../../build/js/live-editor.tooltips.js"></script>
    <script src="../../build/js/live-editor.ui.js"></script>
    <script src="../../build/js/live-editor.editor_ace.js"></script>
    <script>
    var outputUrl = "../output.html";
var code = "/**Spin-off of "Super Smash Khan Battle!" by David Elijah de Siqueira Campos McLaughlin\nOriginal size(400, 400);\nOriginally Created on 2016-02-07T00:34:31Z by kaid_976851263300560061760577\nLast Edited: 2016-02-07T00:34:31Z\nVotes/Spinoffs: 2/0\nOriginally Created: 2016-02-07T00:34:31Z from origin 5619265040678912 with similarity of 1.0\nOriginal Link: https://www.khanacademy.org/computer-programming/spin-off-of-super-smash-khan-battle/4706481897603072\nRetrieved On: 07-Nov-2022 (17:06:59.679027)**/\
";

code = code + "\n//// Hey everyone!! PLay the game when bushes and trees come to the magical day of battle, (and when trees come to life, It is awesome!\n/// Credit to Mr J Programs for making most of this game, him and I are cousins, and credit to ilovemyipod, my bro, and microbots (my other cousin, who is yet to have a adult program!) for all the ideas! Thank you, players! Enjoy!\n\nvar a = \"0123456789:;<=>?@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\nvar mode = \"menu\";\nvar optionKey = \'\';\nvar players = [];\n\n/*****Button Functions*****/\nvar doFunctions = function(arr, func){\n    for(var i = 0; i < arr.length; i++){\n        arr[i][func]();\n    }\n};\n\nvar Button = function(x, y, w, h, roundness, normClr, pressClr, txt, txtNormClr, txtOverClr, txtSize, normStrke, overStrke, normStrokeW, overStrokeW, func){\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.clr = normClr;\n    this.normClr = normClr;\n    this.pressClr = pressClr;\n    this.roundness = roundness;\n    this.txt = txt;\n    this.txtClr = txtNormClr;\n    this.txtNormClr = txtNormClr;\n    this.txtOverClr = txtOverClr;\n    this.txtSize = txtSize;\n    \n    this.strke = normStrke;\n    this.normStrke = normStrke;\n    this.overStrke = overStrke;\n    this.strokeW = normStrokeW;\n    this.normStrokeW = normStrokeW;\n    this.overStrokeW = overStrokeW;\n    \n    this.selected = false;\n    \n    if(func){\n        this.func = func;\n    }\n    this.transition = 0;\n    \n    \n};\nButton.prototype.mouseOver = function(){\n    return mouseX > this.x && mouseX < this.x+this.w &&\n    mouseY > this.y && mouseY < this.y+this.h;\n};\nButton.prototype.mousePressed = function(){\n    if(this.mouseOver()){\n        this.selected = true;\n        return true;\n    }\n};\nButton.prototype.mouseReleased = function(){\n        if(this.selected){\n            this.func();\n            this.selected = false;\n            return true;\n        }\n};\nButton.prototype.draw = function() {\n\n    \n    stroke(this.strke);\n    strokeWeight(this.strokeW-1);\n    \n    fill(this.clr);\n    rect(this.x, this.y, this.w, this.h, this.roundness);\n    \n    textAlign(CENTER, CENTER);\n    textSize(this.txtSize);\n    fill(this.txtClr);\n    \n    text(this.txt, this.x+this.w/2, this.y+this.h/2);\n    \n};\nButton.prototype.fade = function(){\n    if(this.selected||this.mouseOver()){\n        this.transition = min(10, this.transition+1);\n    }else{\n        this.transition = max(0, this.transition-1);\n    }\n    this.clr = lerpColor(this.normClr, this.pressClr, this.transition/10);\n    this.txtClr = lerpColor(this.txtNormClr, this.txtOverClr, this.transition/10);\n    this.strke = lerpColor(this.normStrke, this.overStrke, this.transition/10);\n    this.strokeW = lerp(this.normStrokeW, this.overStrokeW, this.transition/10);\n    \n};\n\nvar Buttons = function(){\n    this.components = [];\n};\nButtons.prototype.draw = function() {\n    doFunctions(this.components, \'draw\');\n    doFunctions(this.components, \'fade\');\n};\nButtons.prototype.mouseOver = function() {\n    doFunctions(this.components, \'mouseOver\');\n};\nButtons.prototype.mousePressed = function() {\n    doFunctions(this.components, \'mousePressed\');\n};\nButtons.prototype.mouseReleased = function() {\n    doFunctions(this.components, \'mouseReleased\');\n};\nButtons.prototype.add = function(type, params) {\n    var params = params||{};\n    var x = params.x!==undefined?params.x:100;\n    var y = params.y!==undefined?params.y:100;\n    var w = params.w!==undefined?params.w:100;\n    var h = params.h!==undefined?params.h:30;\n    \n    var txt = params.txt||\"Error\";\n    var txtSize = params.txtSize||h/1.4;\n    \n    var rounds = params.round||2;\n    var normClr = params.normClr||color(255, 0, 0);\n    var pressClr = params.pressClr||color(84, 0, 0);\n    var normTxtClr = params.normTxtClr||color(0);\n    var pressTxtClr = params.pressTxtClr||color(0);\n    var normStrke = params.normStroke||color(255, 255, 255, 0);\n    var overStrke = params.overStroke||color(255, 255, 255, 0);\n    var normStrokeW = params.normStrokeW||0;\n    var overStrokeW = params.overStrokeW||0;\n    \n    var func = params.func||function(){println(\"Error\");};\n    \n    this.components.push(new type(x, y, w, h, rounds, normClr, pressClr, txt, normTxtClr, pressTxtClr, txtSize, normStrke, overStrke, normStrokeW, overStrokeW, func));\n};\n/*****End Button Functions*****/\n\nvar buttons = {\n    menu: new Buttons(),\n    play: new Buttons(),\n    pause: new Buttons(),\n    help: new Buttons(),\n    gameOver: new Buttons(),\n    options: new Buttons(),\n    player1: new Buttons(),\n    player2: new Buttons(),\n    player3: new Buttons(),\n    player4: new Buttons(),\n    \n};\n\n\nbuttons.menu.add(Button, {\n    x: 200,\n    y: 260,\n    w: 200,\n    h: 50,\n    txt: \"Options\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"options\";\n        \n    },\n});\nbuttons.menu.add(Button, {\n    x: 200,\n    y: 320,\n    w: 200,\n    h: 50,\n    txt: \"Help\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"help\";\n        \n    },\n});\nbuttons.options.add(Button, {\n    x: 10,\n    y: 540,\n    w: 100,\n    h: 50,\n    txt: \"Back\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"menu\";\n    },\n});\nbuttons.options.add(Button, {\n    x: 200,\n    y: 200,\n    w: 200,\n    h: 50,\n    txt: \"Player 1\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"player1\";\n    },\n});\nbuttons.options.add(Button, {\n    x: 200,\n    y: 260,\n    w: 200,\n    h: 50,\n    txt: \"Player 2\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"player2\";\n    },\n});\nbuttons.options.add(Button, {\n    x: 200,\n    y: 320,\n    w: 200,\n    h: 50,\n    txt: \"Player 3\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"player3\";\n    },\n});\nbuttons.options.add(Button, {\n    x: 200,\n    y: 380,\n    w: 200,\n    h: 50,\n    txt: \"Player 4\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"player4\";\n    },\n});\nbuttons.help.add(Button, {\n    x: 10,\n    y: 540,\n    w: 100,\n    h: 50,\n    txt: \"Back\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"menu\";\n        \n    },\n});\nbuttons.play.add(Button, {\n    x: width-40,\n    y: 10,\n    w: 30,\n    h: 30,\n    txt: \"| |\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"pause\";\n        \n    },\n});\nbuttons.pause.add(Button, {\n    x: 250,\n    y: 200,\n    w: 100,\n    h: 40,\n    txt: \"Resume\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"play\";\n        \n    },\n});\nbuttons.pause.add(Button, {\n    x: 250,\n    y: 250,\n    w: 100,\n    h: 40,\n    txt: \"Menu\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode = \"menu\";\n        \n    },\n});\n\n\nvar heart = getImage(\"space/healthheart\");\nvar star = getImage(\"space/star\");\nvar images = [\n    {img: getImage(\"cute/CharacterPrincessGirl\"), name: \'Rapuzel\'},\n    {img: getImage(\"cute/CharacterBoy\"), name: \'Mr. Dude\'},\n    {img: getImage(\"cute/CharacterPinkGirl\"), name: \'Mrs J\'},\n    {img: getImage(\"cute/CharacterCatGirl\"), name: \'Old S.U.P Man\'},\n    {img: getImage(\"cute/CharacterHornGirl\"), name: \'Bro\'},\n    {img: getImage(\"cute/EnemyBug\"), name: \'Cute Pitiful Bug\'},\n\n    {img: getImage(\"cute/TreeTall\"), name: \'TreeBeard\'},\n    {img: getImage(\"cute/TreeShort\"), name: \'Gandalf\'},\n    {img: getImage(\"cute/StoneBlockTall\"), name: \'philuptheawesome\'},\n    {img: getImage(\"cute/WaterBlock\"), name: \'Wilbur\'},\n    {img: getImage(\"cute/TreeUgly\"), name: \'Harold\'},\n];\n\nvar hearts = [];\nvar stars = [];\n\nvar ohNoes = {};\nvar hopper = {};\nvar spunkySam = {};\nvar purplePi = {};\nvar mrPink = {};\nvar ojSquid = {};\n\nvar reloadTime = 25;\n\n\n//define players\nvar p1 = {\n    x: 360,\n    y: 0,\n    w: 20,\n    h: 20,\n    img: 0,\n    keys: {up: UP, left: LEFT, right: RIGHT, shoot: DOWN},\n    type: \"player\",//change this to \"cpu\" for a computer controlled enemy, \"player\" for a you controlled player, and \"player auto-pilot\" for a you controlled player that automatically gets hearts when you need them!\n    name: \"Player 1\",\n};\nvar p2 = {\n    x: 20,\n    y: 0,\n    w: 20,\n    h: 20,\n    img: 1,\n    keys: {up: \'w\', left: \'a\', right: \'d\', shoot: \'s\'},\n    type: \"cpu\",//change this to \"cpu\" for a computer controlled enemy, \"player\" for a you controlled player, and \"player auto-pilot\" for a you controlled player that automatically gets hearts when you need them!\n    name: \"Player 2\",\n    \n};\nvar p3 = {\n    x: 100,\n    y: 0,\n    w: 20,\n    h: 20,\n    img: 2,\n    keys: {up: \'g\', left: \'v\', right: \'n\', shoot: \'b\'},\n    type: \"cpu\",//change this to \"cpu\" for a computer controlled enemy, \"player\" for a you controlled player, and \"player auto-pilot\" for a you controlled player that automatically gets hearts when you need them!\n    name: \"Player 3\",\n    \n};\nvar p4 = {\n    x: 200,\n    y: 0,\n    w: 20,\n    h: 20,\n    img: 3,\n    keys: {up: \'i\', left: \'j\', right: \'l\', shoot: \'k\'},\n    type: \"cpu\",//change this to \"cpu\" for a computer controlled enemy, \"player\" for a you controlled player, and \"player auto-pilot\" for a you controlled player that automatically gets hearts when you need them!\n    name: \"Player 4\",\n    \n};\n//allows me to use keys\nvar keys = [];\nkeyPressed = function() {\n    keys[keyCode] = keys[key.toString().toLowerCase()] = true;\n};\nkeyReleased = function() {\n    keys[keyCode] = keys[key.toString().toLowerCase()] = false;\n};\n\nvar blocks = []; //array for pushing blocks\nvar bullets = [];\n\n//collision detection function\nvar collide = function(obj1, obj2) {\n    if (obj1.x < obj2.x + obj2.w && obj1.x + obj1.w > obj2.x && obj1.y < obj2.y + obj2.h && obj1.y + obj1.h > obj2.y) {\n        return true; //collision is true\n    }    \n};\n\nvar Bullet = function(x, y, dir, speed, name){\n    this.x = x;\n    this.y = y;\n    this.w = 5;\n    this.h = 5;\n    this.dir = dir;\n    this.speed = speed;\n    this.name = name;\n    this.deleted = false;\n    this.display = function(){\n        fill(100);\n        noStroke();\n        ellipse(this.x+this.w/2, this.y+this.h/2, this.w, this.h);\n    };\n    this.update = function(){\n        this.x+=this.dir*this.speed;\n        for(var i = 0; i < blocks.length; i++){\n            if(collide(this, blocks[i])||this.x<0||this.x>width){\n                this.deleted = true;\n            }\n        }\n        for(var i = 0; i < players.length; i++){\n            if(collide(this, players[i])&&this.name!==players[i].name&&players[i].health>0){\n                players[i].health-=0.5;\n                this.deleted = true;\n                \n            }\n        }\n    };\n};\n\n//Player Object\nvar Player = function(x, y, w, h, color, type, img, k, name) {\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.startX = x;\n    this.startY = y;\n    this.dir = 1;\n    \n    this.velx = 0;\n    this.vely = 0;\n    \n    this.moveSpeed = 0.5;\n    this.maxSpeed = 5;\n    \n    this.JH = 9;\n    \n    this.falling = false;\n    this.gravity = 0.4;\n    this.color = color;\n    \n    this.type = type;\n    this.health = 3;\n    this.dead = false;\n    this.img = img;\n    this.talk = 0;\n    this.lives = 3;\n    this.keys = k;\n    \n    this.name = name;\n    \n    this.reload = 0;\n    \n    this.wait = 1;\n    \n    this.closest = Infinity;\n};\n//UPDATE PLAYER\nPlayer.prototype.update = function(plyr) {\n    this.reload++;\n    this.health = constrain(this.health, 0, 3);\n    this.wait+=0.001;\n    this.wait = constrain(this.wait, 0, 1);\n    \n    this.velx = constrain(this.velx, -5, 5);\n    if(this.health>0){\n    if(this.type === \"player\"){\n    var k = this.keys;\n    if (keys[k.up] && !this.falling) {\n        this.vely = -this.JH; //Makes player begin to jump when up key is pressed\n        this.falling = true; //Lets computer know that player is jumping\n    }\n    if (keys[k.left]) {\n        this.dir = -1;\n        this.velx-=0.5; //This number\n    }                   \n    if (keys[k.right]) {  //opposite\n        this.velx+=0.5;  //this number\n        this.dir = 1;\n    }\n    if(keys[k.shoot]){\n        if(this.reload>reloadTime*this.wait){\n                bullets.push(new Bullet(this.x+this.w/2, this.y+this.h/2, this.dir, 10, this.name));\n                this.reload = 0;\n            }\n    }\n    //if statement that makes player stationary if neither the left or right arrow keys are pressed\n    if (!keys[k.left] && !keys[k.right]) {\n        if(this.velx>0){\n            this.velx-=0.5;\n        }\n        if(this.velx<0){\n            this.velx+=0.5;\n        }\n    }\n    }\n    if(this.type === \"cpu\"){\n    \n    if(this.health<2.1&&hearts.length>0||stars.length>0){\n    if(hearts.length>0&&this.health<2.1){\n        var h = hearts[hearts.length-1];\n        var closest = Infinity;\n        for(var i = 0; i < hearts.length; i++){\n            var d = dist(this.x, this.y, hearts[i].x, hearts[i].y);\n            if(d<closest){\n                h = hearts[i];\n                closest = d;\n            }\n        }\n        if(this.x < h.x||random(0, 1) < 0.05){\n            this.velx+=0.5;\n        }\n        if(this.x > h.x||random(0, 1) < 0.05){\n            this.velx-=0.5;\n        }\n        if(this.y > h.y&&!this.falling||random(0, 1) < 0.05&&!this.falling){\n            this.vely = -this.JH;\n        }\n    \n    }else if(stars.length>0){\n        var h = stars[stars.length-1];\n        var closest = Infinity;\n        for(var i = 0; i < stars.length; i++){\n            var d = dist(this.x, this.y, stars[i].x, stars[i].y);\n            if(d<closest){\n                closest = d;\n                h = stars[i];\n            }\n        }\n        if(this.x < h.x||random(0, 1) < 0.05){\n            this.velx+=0.5;\n        }\n        if(this.x > h.x||random(0, 1) < 0.05){\n            this.velx-=0.5;\n        }\n        if(this.y > h.y&&!this.falling){\n            this.vely = -this.JH;\n        }\n        }\n    }else{\n        this.closest = Infinity;\n        var P;\n        for(var i = 0; i < plyr.length; i++){\n            var p = plyr[i];\n            if(p!==this){\n                var d = dist(this.x, this.y, p.x, p.y);\n                if(d<this.closest){\n                    this.closest = d;\n                    P = p;\n                }\n            }\n        }\n        if(this.closest>60){\n            if(this.x<P.x||random(0, 1)<0.1){\n                this.velx+=0.5;\n                this.dir = 1;\n            }\n            if(this.x>P.x||random(0, 1)<0.1){\n                this.velx-=0.5;\n                this.dir = -1;\n            }\n        }else{\n            if(this.x>P.x){\n                this.velx+=0.5;\n                this.dir = -1;\n            }\n            if(this.x<P.x){\n                this.velx-=0.5;\n                this.dir = 1;\n            }\n            \n            \n            \n        }\n        if(this.y>P.y&&!this.falling&&random(0, 1)<0.3||random(0, 1)<0.01&&!this.falling){\n            this.vely=-this.JH;\n        }\n        if(this.reload>reloadTime*this.wait&&this.closest<80){\n                bullets.push(new Bullet(this.x+this.w/2, this.y+this.h/2, this.dir, 10, this.name));\n                this.reload = 0;\n            }\n    }\n    \n    }\n    }\n    if(this.dead){\n        this.x = this.startX;\n        this.y = this.startY;\n        this.vely = 0;\n        this.health = 3;\n        this.dead = false;\n        this.lives--;\n    }\n    if(this.y>height){\n        this.dead = true;\n    }\n    //moves player\n    this.x += this.velx;\n    //APPLY COLLISION WITH X POS\n    this.applyCollision(this.velx, 0);\n    \n    this.falling = true;\n    this.y += this.vely;\n    //APPLY COLLISION WITH Y POS\n    this.applyCollision(0, this.vely);\n    this.vely += this.gravity;\n    \n    //makes player stay on screen\n    this.x = constrain(this.x, 0, width - this.w);\n};\n//COLLISION APPLIED HERE (WATCH CAREFULLY)\nPlayer.prototype.applyCollision = function(velx, vely) {\n    if(this.health>0){\n    for (var i = 0; i < blocks.length; i++) {\n        //applies the collision detection function by saying \"if (collide(this, blocks[i]))\"\n        if (collide(this, blocks[i])) {\n            //if y velocity is greater than 0 (player is falling) and they hit the block, they stop and aren\'t falling\n                if (vely > 0) {\n                    this.vely = 0;\n                    this.falling = false;\n                    this.y = blocks[i].y - this.h;\n                }\n            //if y velocity is less than 0 (player is jumping up) and they hit the block, they hit and go back down\n                if (vely < 0) {\n                    \n                    this.vely = 0;\n                    this.falling = true;\n                    this.y = blocks[i].y + blocks[i].h;\n                    \n                }\n            //if x velocity is less than 0 (player is going left) and they hit the block, they stop\n                if (velx < 0) {\n                    this.velx = 0;\n                    if(this.type===\"cpu\"&&!this.falling&&random(0, 1)<0.3){\n                        this.vely=-this.JH;\n                    }\n                    this.x = blocks[i].x + blocks[i].w;\n                }\n            //if x velocity is greater than 0 (player is going right) and they hit the block, they stop\n                if (velx > 0) {\n                    this.velx = 0;\n                    this.x = blocks[i].x - this.w;\n                    if(this.type===\"cpu\"&&!this.falling&&random(0, 1)<0.3){\n                        this.vely=-this.JH;\n                    }\n                }\n                if(blocks[i].type===\"moving\"){\n                    this.x+=blocks[i].xvel;\n                }\n        }\n    }\n    for(var i = 0; i < hearts.length; i++){\n        var h = hearts[i];\n        if(collide(this, {x: h.x, y: h.y, w: 20, h: 20})&&this.health<2.1){\n            this.health++;\n            hearts.splice(i, 1);\n        }\n    }\n    for(var i = 0; i <stars.length; i++){\n        var s = stars[i];\n        if(collide(this, {x: s.x, y: s.y, w: 20, h: 20})){\n            this.wait=0.1;\n            stars.splice(i, 1);\n        }\n    }\n    }\n};\nPlayer.prototype.draw = function() {\n    noStroke();\n    \n    pushMatrix();\n    translate(this.x, this.y);\n    if(this.dir===-1){\n        translate(this.w, 0);\n    }\n    scale(this.dir, 1);\n    image(images[this.img].img, 0, 0, this.w, this.h);\n    stroke(100);\n    if(this.wait<0.9){\n        var c = (1-this.wait)*random(100, 255);\n        stroke(c, 0, 0);\n    }\n    strokeWeight(this.h/5);\n    line(this.w/3, this.h/1.5, this.w, this.h/1.5);\n    strokeWeight(this.h/10);\n    line(this.w/2, this.h/1.5, this.w/2, this.h/1.1);\n    popMatrix();\n    for(var i = 0; i < this.health; i++){\n        image(heart, this.x+i*20-20, this.y-this.h, 20, 20);\n    }\n};\nPlayer.prototype.apply = function(plyr) {\n    //draw and update player to display it\n    if(mode===\"play\"||mode===\"pause\"){\n    this.draw();\n    }\n    if(mode===\"play\"){\n        this.update(plyr);\n    }\n};\nPlayer.prototype.updateName = function(dsply){\n    this.name = images[this.img].name;\n    if(dsply){\n    textAlign(CENTER, CENTER);\n    fill(0);\n    textSize(15);\n    text(this.name, 300, 90);\n    }\n};\n\n//Block Object\nvar Block = function(x, y, w, h, color, type) {\n    //these must stay the same\n    this.x = x;\n    this.y = y;\n    this.w = w;\n    this.h = h;\n    this.xvel = 2;\n    this.color = color;\n    this.type = type;\n};\nBlock.prototype.update = function(){\n    if(this.type===\"moving\"){\n        this.x+=this.xvel;\n        for(var i = 0; i < blocks.length; i++){\n            if(blocks[i]!==this){\n                if(collide(this, blocks[i])){\n                    this.xvel*=-1;\n                }\n            }\n        }\n    }\n};\nBlock.prototype.display = function() {\n    //draw the blocks\n    stroke(0, 0, 0);\n    strokeWeight(2);\n    noStroke();\n    fill(this.color);\n    rect(this.x, this.y, this.w, this.h);\n};\n\n\n\nvar resetPlayers = function(){\n//variable for a new player THREE OR MORE PLAYER DOES NOT WORK\nvar player1 = new Player(p1.x, p1.y, p1.w, p1.h, color(0, 255, 21), p1.type, p1.img, p1.keys, p1.name);\nvar player2 = new Player(p2.x, p2.y, p2.w, p2.h, color(255, 0, 0), p2.type, p2.img, p2.keys, p2.name);\nvar player3 = new Player(p3.x, p3.y, p3.w, p3.h, color(255, 0, 0), p3.type, p3.img, p3.keys, p3.name);\nvar player4 = new Player(p4.x, p4.y, p4.w, p4.h, color(255, 0, 0), p4.type, p4.img, p4.keys, p4.name);\nplayers = [player1, player2, player3, player4];\nbullets = [];\nstars = [];\nhearts = [];\n};\nresetPlayers();\n\nbuttons.player1.add(Button, {\n    x: 250,\n    y: 200,\n    w: 100,\n    h: 50,\n    txt: \"UP: \"+players[0].keys.up,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[0].keys.up=keyCode;\n        p1.keys.up=keyCode;\n        this.txt = \"UP: \"+(a[players[0].keys.up-48]||keyCode);\n    },\n});\nbuttons.player1.add(Button, {\n    x: 250,\n    y: 260,\n    w: 100,\n    h: 50,\n    txt: \"LEFT: \"+players[0].keys.left,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[0].keys.left=keyCode;\n        p1.keys.left=keyCode;\n        this.txt = \"LEFT: \"+(a[players[0].keys.left-48]||keyCode);\n    },\n});\nbuttons.player1.add(Button, {\n    x: 250,\n    y: 320,\n    w: 100,\n    h: 50,\n    txt: \"RIGHT: \"+players[0].keys.right,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[0].keys.right=keyCode;\n        p1.keys.right=keyCode;\n        this.txt = \"RIGHT: \"+(a[players[0].keys.right-48]||keyCode);\n    },\n});\nbuttons.player1.add(Button, {\n    x: 250,\n    y: 380,\n    w: 100,\n    h: 50,\n    txt: \"SHOOT: \"+players[0].keys.shoot,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[0].keys.shoot=keyCode;\n        p1.keys.shoot=keyCode;\n        this.txt = \"SHOOT: \"+(a[players[0].keys.shoot-48]||keyCode);\n    },\n});\nbuttons.player1.add(Button, {\n    x: 250,\n    y: 440,\n    w: 100,\n    h: 50,\n    txt: players[0].type.toUpperCase(),\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        if(players[0].type===\"cpu\"){\n            players[0].type = \"player\";\n            p1.type=\"player\";\n        }else{\n            players[0].type = \"cpu\";\n            p1.type=\"cpu\";\n        }\n        this.txt = players[0].type.toUpperCase();\n    },\n});\nbuttons.player1.add(Button, {\n    x: 250,\n    y: 500,\n    w: 100,\n    h: 50,\n    txt: \"Image\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[0].img++;\n        p1.img++;\n        for(var i = 0; i < players.length; i++){\n            if(i!==0&&players[i].img===p1.img){\n                p1.img++;\n                players[0].img++;\n            }\n        }\n        if(players[0].img>images.length-1){\n            players[0].img=0;\n            p1.img=0;\n        }\n    },\n});\nbuttons.player1.add(Button, {\n    x: 10,\n    y: 540,\n    w: 100,\n    h: 50,\n    txt: \"Back\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode=\"options\";\n    },\n});\n\nbuttons.player2.add(Button, {\n    x: 250,\n    y: 200,\n    w: 100,\n    h: 50,\n    txt: \"UP: \"+players[0].keys.up,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[1].keys.up=keyCode;\n        p2.keys.up=keyCode;\n        this.txt = \"UP: \"+(a[players[1].keys.up-48]||keyCode);\n    },\n});\nbuttons.player2.add(Button, {\n    x: 250,\n    y: 260,\n    w: 100,\n    h: 50,\n    txt: \"LEFT: \"+players[1].keys.left,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[1].keys.left=keyCode;\n        p2.keys.left=keyCode;\n        this.txt = \"LEFT: \"+(a[players[1].keys.left-48]||keyCode);\n    },\n});\nbuttons.player2.add(Button, {\n    x: 250,\n    y: 320,\n    w: 100,\n    h: 50,\n    txt: \"RIGHT: \"+players[1].keys.right,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[1].keys.right=keyCode;\n        p2.keys.right=keyCode;\n        this.txt = \"RIGHT: \"+(a[players[1].keys.right-48]||keyCode);\n    },\n});\nbuttons.player2.add(Button, {\n    x: 250,\n    y: 380,\n    w: 100,\n    h: 50,\n    txt: \"SHOOT: \"+players[1].keys.shoot,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[1].keys.shoot=keyCode;\n        p2.keys.shoot=keyCode;\n        this.txt = \"SHOOT: \"+(a[players[1].keys.shoot-48]||keyCode);\n    },\n});\nbuttons.player2.add(Button, {\n    x: 250,\n    y: 440,\n    w: 100,\n    h: 50,\n    txt: players[1].type.toUpperCase(),\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        if(players[1].type===\"cpu\"){\n            players[1].type = \"player\";\n            p2.type=\"player\";\n        }else{\n            players[1].type = \"cpu\";\n            p2.type=\"cpu\";\n        }\n        this.txt = players[1].type.toUpperCase();\n    },\n});\nbuttons.player2.add(Button, {\n    x: 250,\n    y: 500,\n    w: 100,\n    h: 50,\n    txt: \"Image\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[1].img++;\n        p2.img++;\n        for(var i = 0; i < players.length; i++){\n            if(i!==1&&players[i].img===p2.img){\n                p2.img++;\n                players[1].img++;\n            }\n        }\n        if(players[1].img>images.length-1){\n            players[1].img=0;\n            p2.img=0;\n        }\n    },\n});\nbuttons.player2.add(Button, {\n    x: 10,\n    y: 540,\n    w: 100,\n    h: 50,\n    txt: \"Back\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode=\"options\";\n    },\n});\n\nbuttons.player3.add(Button, {\n    x: 250,\n    y: 200,\n    w: 100,\n    h: 50,\n    txt: \"UP: \"+players[2].keys.up,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[2].keys.up=keyCode;\n        p3.keys.up=keyCode;\n        this.txt = \"UP: \"+(a[players[2].keys.up-48]||keyCode);\n    },\n});\nbuttons.player3.add(Button, {\n    x: 250,\n    y: 260,\n    w: 100,\n    h: 50,\n    txt: \"LEFT: \"+players[2].keys.left,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[2].keys.left=keyCode;\n        p3.keys.left=keyCode;\n        this.txt = \"LEFT: \"+(a[players[2].keys.left-48]||keyCode);\n    },\n});\nbuttons.player3.add(Button, {\n    x: 250,\n    y: 320,\n    w: 100,\n    h: 50,\n    txt: \"RIGHT: \"+players[2].keys.right,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[2].keys.right=keyCode;\n        p3.keys.right=keyCode;\n        this.txt = \"RIGHT: \"+(a[players[2].keys.right-48]||keyCode);\n    },\n});\nbuttons.player3.add(Button, {\n    x: 250,\n    y: 380,\n    w: 100,\n    h: 50,\n    txt: \"SHOOT: \"+players[2].keys.shoot,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[2].keys.shoot=keyCode;\n        p3.keys.shoot=keyCode;\n        this.txt = \"SHOOT: \"+(a[players[2].keys.shoot-48]||keyCode);\n    },\n});\nbuttons.player3.add(Button, {\n    x: 250,\n    y: 440,\n    w: 100,\n    h: 50,\n    txt: players[2].type.toUpperCase(),\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        if(players[2].type===\"cpu\"){\n            players[2].type = \"player\";\n            p3.type=\"player\";\n        }else{\n            players[2].type = \"cpu\";\n            p3.type=\"cpu\";\n        }\n        this.txt = players[2].type.toUpperCase();\n    },\n});\nbuttons.player3.add(Button, {\n    x: 250,\n    y: 500,\n    w: 100,\n    h: 50,\n    txt: \"Image\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[2].img++;\n        p3.img++;\n        for(var i = 0; i < players.length; i++){\n            if(i!==2&&players[i].img===p3.img){\n                p3.img++;\n                players[2].img++;\n            }\n        }\n        if(players[2].img>images.length-1){\n            players[2].img=0;\n            p3.img=0;\n        }\n    },\n});\nbuttons.player3.add(Button, {\n    x: 10,\n    y: 540,\n    w: 100,\n    h: 50,\n    txt: \"Back\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode=\"options\";\n    },\n});\n\nbuttons.player4.add(Button, {\n    x: 250,\n    y: 200,\n    w: 100,\n    h: 50,\n    txt: \"UP: \"+players[3].keys.up,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[3].keys.up=keyCode;\n        p4.keys.up=keyCode;\n        this.txt = \"UP: \"+(a[players[3].keys.up-48]||keyCode);\n    },\n});\nbuttons.player4.add(Button, {\n    x: 250,\n    y: 260,\n    w: 100,\n    h: 50,\n    txt: \"LEFT: \"+players[3].keys.left,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[3].keys.left=keyCode;\n        p4.keys.left=keyCode;\n        this.txt = \"LEFT: \"+(a[players[3].keys.left-48]||keyCode);\n    },\n});\nbuttons.player4.add(Button, {\n    x: 250,\n    y: 320,\n    w: 100,\n    h: 50,\n    txt: \"RIGHT: \"+players[3].keys.right,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[3].keys.right=keyCode;\n        p4.keys.right=keyCode;\n        this.txt = \"RIGHT: \"+(a[players[3].keys.right-48]||keyCode);\n    },\n});\nbuttons.player4.add(Button, {\n    x: 250,\n    y: 380,\n    w: 100,\n    h: 50,\n    txt: \"SHOOT: \"+players[3].keys.shoot,\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[3].keys.shoot=keyCode;\n        p4.keys.shoot=keyCode;\n        this.txt = \"SHOOT: \"+(a[players[3].keys.shoot-48]||keyCode);\n    },\n});\nbuttons.player4.add(Button, {\n    x: 250,\n    y: 440,\n    w: 100,\n    h: 50,\n    txt: players[3].type.toUpperCase(),\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        if(players[3].type===\"cpu\"){\n            players[3].type = \"player\";\n            p4.type=\"player\";\n        }else{\n            players[3].type = \"cpu\";\n            p4.type=\"cpu\";\n        }\n        this.txt = players[3].type.toUpperCase();\n    },\n});\nbuttons.player4.add(Button, {\n    x: 10,\n    y: 500,\n    w: 100,\n    h: 50,\n    txt: \"Image\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        players[3].img++;\n        p4.img++;\n        for(var i = 0; i < players.length; i++){\n            if(i!==3&&players[i].img===p4.img){\n                p4.img++;\n                players[3].img++;\n            }\n        }\n        if(players[3].img>images.length-1){\n            players[3].img=0;\n            p4.img=0;\n        }\n    },\n});\nbuttons.player4.add(Button, {\n    x: 10,\n    y: 540,\n    w: 100,\n    h: 50,\n    txt: \"Back\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        mode=\"options\";\n    },\n});\n\nbuttons.menu.add(Button, {\n    x: 200,\n    y: 140,\n    w: 200,\n    h: 50,\n    txt: \"Old Game\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n    mode = \"play\";\n        \n    },\n});\nbuttons.menu.add(Button, {\n    x: 200,\n    y: 200,\n    w: 200,\n    h: 50,\n    txt: \"New Game\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        \n        mode = \"play\";\n        resetPlayers();\n    },\n});\n\nbuttons.gameOver.add(Button, {\n    x: 200,\n    y: 200,\n    w: 200,\n    h: 50,\n    txt: \"Restart\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        \n        mode = \"play\";\n        resetPlayers();\n    },\n});\nbuttons.gameOver.add(Button, {\n    x: 200,\n    y: 260,\n    w: 200,\n    h: 50,\n    txt: \"Menu\",\n    pressClr: color(150, 170, 170),\n    normClr: color(150),\n    txtSize: 14,\n    overStroke: color(0, 191, 255),\n    overStrokeW: 3,\n    func: function(){\n        \n        mode = \"menu\";\n        resetPlayers();\n    },\n});\n\n\n//Draw all of the platforms here (use loops as well to make things efficient\nvar drawBlocks = function() {\n    //change x, y, size, and color for each block if you want\n    \n    blocks.push(new Block(0, 380, 220, 20, color(255)));\n    blocks.push(new Block(240, 380, 160, 20, color(255)));\n    blocks.push(new Block(40, 260, 20, 20, color(255)));    \n    blocks.push(new Block(0, 340, 20, 40, color(255)));\n    blocks.push(new Block(360, 280, 40, 100, color(255)));\n    for(var i = 0; i < 6; i++){\n        blocks.push(new Block(340-(i*20), 260+(i*20), 20, 120-(i*20), color(255)));\n    }\n    for(var i = 0; i < 4; i++){\n        blocks.push(new Block(180-(i*20), 300+(i*20), 20, 80-(i*20), color(43, 30, 30)));\n    }\n    blocks.push(new Block(0, height-10, width, 10, color(255)));\n    for(var i = 0; i < width; i+=width/10){\n        \n        blocks.push(new Block(i+30, 500, 1, 60, color(255)));\n        blocks.push(new Block(i, 500, 30, 30, color(255)));\n        \n    }\n    \n    blocks.push(new Block(0, height-10, width, 10, color(255)));\n    blocks.push(new Block(0, height-20, width, 20, color(255)));\n    \n    for (var i = 0; i < 400; i += 80) {\n        blocks.push(new Block(i, 180, 20, 20, color(255)));\n        \n    }\n    blocks.push(new Block(500, 400, 30, 30, color(255)));\n    blocks.push(new Block(450, 350, 30, 30, color(255)));\n    blocks.push(new Block(400, 370, 30, 30, color(255)));\n};\n    blocks.push(new Block(0, height-20, width, 20, color(38, 0, 255))); for(var i = 0; i< width; i+=width/300){\n}\ndrawBlocks(); //apply the block drawings\nvar draw = function() {\n    \n    frameRate(40);\n    background(189, 189, 189);\n    \n    noStroke();\n    //fill(200, 200, 200, 50);\n    //rect(0, 0, 400, 400);\n    fill(0, 0, abs(cos(frameCount))*255);\n    textAlign(CENTER, BOTTOM);\n    textSize(50);\n    text(\"B\", width/1-250, 91);\n    text(\"E\", width/2+150, 90);\n    textSize(30);\n    text(\"ATTL\", width/1.5, 72);\n    textSize(9);\n    text(\"KHAN EDITION\", width/1.5, 80);\n  \n    \n    \n    if(mode===\"play\"||mode===\"pause\"){\n\n    for (var i = 0; i < blocks.length; i++) {\n        if(mode!==\"pause\"){\n            blocks[i].update();\n        }\n        blocks[i].display(); //display blocks\n\n        \n    }\n    \n    for(var i = 0; i < bullets.length; i++){\n        if(mode===\"pause\"||mode===\"play\"){\n        bullets[i].display();\n        }\n        if(mode===\"play\"){\n        bullets[i].update();\n        }\n        if(bullets[i].deleted){\n            bullets.splice(i, 1);\n        }\n    }\n    for(var i = 0; i < players.length; i++){\n        players[i].apply(players);\n        textSize(12);\n        fill(0);\n        players[i].updateName(false);\n        text(players[i].name+\"\'s lives: \"+players[i].lives, 100, 50+(i*15));\n        if(players[i].lives<=0){\n            players.splice(i, 1);\n        }\n        \n    }\n    if(players.length<=1){\n        mode = \"gameOver\";\n        \n    }\n    for(var i = 0; i < hearts.length; i++){\n        var h = hearts[i];\n        image(heart, h.x, h.y, 20, 20);\n        if(mode===\"play\"){\n        h.y++;\n        if(h.y > height){\n            hearts.splice(i, 1);\n        }\n        }\n    }\n    for(var i = 0; i < stars.length; i++){\n        var s = stars[i];\n        image(star, s.x, s.y, 20, 20);\n        if(mode===\"play\"){\n        s.y+=3;\n        if(s.y > height){\n            stars.splice(i, 1);\n        }\n        }\n    }\n    if(mode===\"play\"){\n    if(random(0, 10)<0.01){\n        hearts.push(new PVector(random(0, width-20), 0));\n    }\n    if(random(0, 15)<0.01){\n        stars.push(new PVector(random(0, width-20), 0));\n    }\n    }\n    }\n    buttons[mode].draw();\n    if(mode===\"help\"){\n        fill(0);\n        textSize(20);\n        text(\"Try to shoot the other players, using your shoot key.\\nMove with your Up, Down, Left, and Right keys.\\nHearts boost your health by 1.\\nStars give a short \'gun boost\', which makes it shoot faster.\\nTo configure your keys, go to options, click on a player button,\\npress a key, then press the button that has the direction you\\nwant that key to control.\\n(Don\'t worry if it says \'???\'. It just means it can\'t\\ndisplay that control. It will work though. Also, if the button\\nhas a number on it, just re-do the steps for setting up the keys.)\", width/2, height/2);\n    }\n    if(mode === \"gameOver\"){\n        textAlign(CENTER, CENTER);\n        textSize(30);\n        fill(0);\n        text(players[0].name+\" is the winner!\", width/2, 150);\n    }\n    if(mode===\"player1\"){\n        image(images[players[0].img].img, 250, 100, 100, 100);\n        players[0].updateName(true);\n    }\n    if(mode===\"player2\"){\n        image(images[players[1].img].img, 250, 100, 100, 100);\n        players[1].updateName(true);\n    }\n    if(mode===\"player3\"){\n        image(images[players[2].img].img, 250, 100, 100, 100);\n        players[2].updateName(true);\n    }\n    if(mode===\"player4\"){\n        image(images[players[3].img].img, 250, 100, 100, 100);\n        players[3].updateName(true);\n    }\n};\n\nmousePressed = function(){\n    buttons[mode].mousePressed();\n};\nmouseReleased = function(){\n    buttons[mode].mouseReleased();\n};";
window.liveEditor = new LiveEditor({
                el: $("#sample-live-editor"),
                code: code,
                width: 400,
                height: 400,
                editorHeight: "80%",
                autoFocus: true,
                workersDir: "../../build/workers/",
                externalsDir: "../../build/external/",
                imagesDir: "../../build/images/",
                soundsDir: "../../sounds/",
                execFile: outputUrl,
                jshintFile: "../../build/external/jshint/jshint.js",
                newErrorExperience: true,
            });
            liveEditor.editor.on("change", function() {
                window.localStorage["test-code"] = liveEditor.editor.text();
            });
            ScratchpadAutosuggest.init(liveEditor.editor.editor);
            </script>
        </body>
        </html>
        