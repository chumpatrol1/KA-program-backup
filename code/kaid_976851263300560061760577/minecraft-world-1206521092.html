<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Minecraft World</title>
    <link rel="stylesheet" href="../../build/css/live-editor.core_deps.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.audio.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.tooltips.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.ui.css"/>
<style>
        body {
            padding: 20px;
        }
        h1 {
            padding: 0;
            margin: 0 0 20px 0;
        }
        #sample-live-editor {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>Minecraft World</h1>
    <div id="sample-live-editor"></div>
    <script src="../../build/js/live-editor.core_deps.js"></script>
    <script src="../../build/js/live-editor.editor_ace_deps.js"></script>
    <script src="../../build/js/live-editor.audio.js"></script>
    <script src="../../build/js/live-editor.shared.js"></script>
    <script src="../../build/js/live-editor.tooltips.js"></script>
    <script src="../../build/js/live-editor.ui.js"></script>
    <script src="../../build/js/live-editor.editor_ace.js"></script>
    <script>
    var outputUrl = "../output.html";
var code = "/**Minecraft World by David Elijah de Siqueira Campos McLaughlin\nOriginal size(400, 400);\nOriginally Created on 2012-12-07T19:46:17Z by kaid_976851263300560061760577\nLast Edited: 2012-12-07T19:46:17Z\nVotes/Spinoffs: 1/0\nOriginally Created: 2012-12-07T19:46:17Z from origin 1198524768 with similarity of 0.9998968434082938\nOriginal Link: https://www.khanacademy.org/computer-programming/minecraft-world/1206521092\nRetrieved On: 07-Nov-2022 (17:07:26.700755)**/\
";

code = code + "\n// A demonstration of drawing a Minecraft World\n// Uses the data and code from:\n// http://www.khanacademy.org/cs/3d-minecraft-tunnel/1193254153\n\n// Move using the arrow keys\n// Click a tile to change it to another type\n\n// There are 10 block types:\n// 0 = Nothing\n// 1 = Grass\n// 2 = Dirt\n// 3 = Coal Ore\n// 4 = Stone\n// 5 = Brick\n// 6 = Diamond Ore\n// 7 = Wood\n// 8 = Leaves\n// 9 = Water\n// Note: Blocks after 9 go A, B, C, D, etc.\nvar numBlocks = 10;\n\n// A simple level, edit to change it!\nvar level = [\n    \"                         \",\n    \"     88        5         \",\n    \"    888       555        \",\n    \"     7        545        \",\n    \"1111111111111111111199999\",\n    \"2326424422422222222229999\",\n    \"2244224444222222222229999\"\n];\n\n// Blocks are 16 by 16 pixels\nvar blockWidth = 16;\nvar blockHeight = 16;\n\n// How large a single pixel of a block should be\nvar blockScale = 4;\n\n// Each block has three sides:\n// 0 = Top\n// 1 = Side\n// 2 = Bottom\n// You can choose which one to draw\n// by default the Side (1) is drawn\nvar blockSide = 1;\n\n// Draw a block\n// Takes two arguments:\n// block (which is the # of the block to draw)\n// side (which side to draw)\n// seed (optional, to keep the same pattern on the block)\nvar drawBlock = function(block, side, seed) {\n    // If a seed is provided, keep the same\n    // pattern on the block\n    if (seed !== undefined) {\n        randomSeed(seed);\n    }\n\n    // Randomly dim the block\n    var br = 255 - floor(random(96));\n\n    // Only compute the side of the block we need\n    var sideStart = side * blockHeight;\n\n    for (var y = sideStart; y < sideStart + blockHeight; y++) {\n        for (var x = 0; x < blockWidth; x++) {\n            // Base color for dirt blocks\n            var pxColor = color(150, 108, 74);\n\n            // Coal Ore\n            if (block === \"3\") {\n                pxColor = color(127, 127, 127);\n                \n                if (floor(random(5)) === 0) {\n                    pxColor = color(0, 0, 0);\n                }\n            }\n\n            // Diamond Ore\n            if (block === \"6\") {\n                pxColor = color(127, 127, 127);\n                \n                if (floor(random(5)) === 0) {\n                    pxColor = color(50, 235, 235);\n                }\n            }\n\n            // Base color for stone\n            if (block === \"4\") {\n                pxColor = color(127, 127, 127);\n            }\n\n            // Add speckles to the blocks\n            // (Randomly dim the block color more.)\n            // (For stones, make it happen less often\n            //  which makes it streak-y.)\n            if (block !== \"4\" || floor(random(3)) === 0) {\n                br = 255 - floor(random(96));\n            }\n            \n            // Grassy blocks\n            if (block === \"1\") {\n                // Draw the top of the side grass\n                // (Use some math for making grass droop)\n                var sideGrassLength = blockHeight + (blockHeight / 8) + (((x * x * 3 + x * 81) >> 2) & 3);\n\n                if (y < sideGrassLength) {\n                    pxColor = color(106, 170, 64);\n\n                // Draw the side grass shadow\n                // (Dim the dirt by 1/3)\n                } else if (y < sideGrassLength + 1) {\n                    br *= 2 / 3;\n                }\n            }\n\n            // Wood block\n            if (block === \"7\") {\n                // Dark brown base color\n                pxColor = color(103, 82, 49);\n\n                // Draw the top and bottom of the wood\n                if (x > 0 && x < blockWidth - 1 && ((y > 0 && y < blockHeight - 1) || (y > blockHeight * 2 && y < blockHeight * 3 - 1))) {\n                    pxColor = color(188, 152, 98);\n                    \n                    // Draw the rings on the wood\n                    var xd = (x - 7);\n                    var yd = ((y & 15) - 7);\n                    \n                    if (xd < 0) { \n                        xd = 1 - xd;\n                    }\n                    \n                    if (yd < 0) {\n                        yd = 1 - yd;\n                    }\n                    \n                    if (yd > xd) {\n                        xd = yd;\n                    }\n\n                    // Randomly dim the tops and bottoms\n                    // of the wood block\n                    br = 196 - floor(random(32)) + xd % 3 * 32;\n                // Add the dark streaks in the wood side\n                } else if (floor(random(2)) === 0) {\n                    br *= (150 - (x & 1) * 100) / 100;\n                }\n            }\n\n            // Red brick blocks\n            if (block === \"5\") {\n                // Red base color\n                pxColor = color(181, 58, 21);\n\n                // Add the white break streaks\n                // Stagger the rows of bricks\n                // Add line every brick row\n                if ((x + (y >> 2) * 4) % (blockWidth / 2) === 0 || y % (blockHeight / 4) === 0) {\n                    pxColor = color(188, 175, 165);\n                }\n            }\n            \n            // Blue water block\n            if (block === \"9\") {\n                pxColor = color(64, 64, 255);\n            }\n            \n            var brr = br;\n            \n            // Make all the bottom sides darker\n            // (divide the color in half)\n            if (y >= blockHeight * 2) {\n                brr /= 2;\n            }\n\n            // Hanging grass/vine block\n            if (block === \"8\") {\n                // Use green as the base color\n                pxColor = color(80, 217, 55);\n\n                // Randomly make parts invisible\n                if (floor(random(2)) === 0) {\n                    pxColor = 0;\n                    brr = 255;\n                }\n            }\n\n            // Only draw something if we have a color\n            if (pxColor) {\n                // Darken the pixel using this color\n                var darkColor = color(brr, brr, brr);\n\n                // Multiply the color with the darkening\n                // color, creating the new one\n                stroke(blendColor(pxColor, darkColor, MULTIPLY));\n                \n                // Draw the pixel onto the screen\n                point(x, y - sideStart);\n            }\n        }\n    }\n};\n\nvar sky = getImage(\"space/background\");\n\n// Where the screen is currently positioned\nvar posX = 0;\n\n// How many tiles in a level there are\nvar numTiles = level[0].length;\n\n// How many tiles to show at a time\nvar showTiles = ceil(width / (blockScale * blockWidth)) + 1;\n\nvar draw = function() {\n    // Draw the background\n    image(sky, 0, 0);\n\n    // Shift the blocks on the screen\n    var xOffset = -posX % blockWidth;\n\n    // Make sure the blocks line up with the bottom\n    var yOffset = (height - (blockHeight * blockScale * level.length)) / blockScale;\n\n    // Get the tile we\'ll start draw\n    var firstTile = floor(posX / blockWidth) % numTiles;\n\n    // Increase the size of the blocks\n    scale(blockScale, blockScale);\n\n    // Go through each vertical layer of the level\n    for (var l = 0; l < level.length; l += 1) {\n        var tiles = level[l];\n        \n        // Grab out all the tiles on the screen\n        for (var tile = firstTile, pos = 0; tile < firstTile + showTiles; tile += 1, pos += 1) {\n            // Get the tile we\'ll draw\n            var t = tile % numTiles;\n            \n            // Loop the tiles around\n            if (t < 0) {\n                t += tiles.length;\n            }\n\n            // Position of block\n            var left = pos * blockWidth + xOffset;\n            var top = l * blockHeight + yOffset;\n\n            // Scaled mouse position\n            var mx = mouseX / blockScale;\n            var my = mouseY / blockScale;\n\n            // Mouse is clicking block\n            if (mouseIsPressed &&\n                mx >= left &&\n                mx <= left + blockWidth &&\n                my >= top &&\n                my <= top + blockHeight) {\n                    // Get the new block to toggle to\n                    var newBlock = (floor(tiles[t]) + 1) % numBlocks;\n                    \n                    // Handle A .. Z blocks (beyond 0 .. 9)\n                    if (newBlock >= 10) {\n                        newBlock = String.fromCharCode(newBlock + 55);\n                    }\n                    \n                    // Switch the tile to the next tile\n                    tiles = level[l] = tiles.substr(0, t) +\n                        newBlock + tiles.substr(t + 1);\n            }\n            \n            // NOTE: If you\'re going to use this to make\n            // levels then be sure to log out the new\n            // level structure using:\n            //debug(level);\n\n            // Don\'t draw empty tiles\n            if (tiles[t] !== \" \" && tiles[t] !== \"0\") {\n                // Make sure that the block will always\n                // have the same pattern\n                var seed = l * t;\n                \n                // Make the leaves and water constantly shift\n                // Gives a sense of motion\n                if (tiles[t] === \"8\" || tiles[t] === \"9\") {\n                    seed *= second();\n                }\n\n                // Draw the block at the specified position\n                pushMatrix();\n                translate(left, top);\n                drawBlock(tiles[t], blockSide, seed);\n                popMatrix();\n            }\n        }\n    }\n\n    resetMatrix();\n\n    // Handle user navigation\n    if (keyIsPressed) {\n        if (keyCode === RIGHT) {\n            posX += 5;\n\n        } else if (keyCode === LEFT) {\n            posX -= 5;\n        }\n\n        // Loop back around if we go too far\n        if (posX < 0) {\n            posX += numTiles * blockWidth;\n        }\n    }\n};";
window.liveEditor = new LiveEditor({
                el: $("#sample-live-editor"),
                code: code,
                width: 400,
                height: 400,
                editorHeight: "80%",
                autoFocus: true,
                workersDir: "../../build/workers/",
                externalsDir: "../../build/external/",
                imagesDir: "../../build/images/",
                soundsDir: "../../sounds/",
                execFile: outputUrl,
                jshintFile: "../../build/external/jshint/jshint.js",
                newErrorExperience: true,
            });
            liveEditor.editor.on("change", function() {
                window.localStorage["test-code"] = liveEditor.editor.text();
            });
            ScratchpadAutosuggest.init(liveEditor.editor.editor);
            </script>
        </body>
        </html>
        