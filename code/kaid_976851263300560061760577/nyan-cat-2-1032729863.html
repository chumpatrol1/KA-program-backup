<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Nyan Cat 2</title>
    <link rel="stylesheet" href="../../build/css/live-editor.core_deps.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.audio.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.tooltips.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.ui.css"/>
<style>
        body {
            padding: 20px;
        }
        h1 {
            padding: 0;
            margin: 0 0 20px 0;
        }
        #sample-live-editor {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>Nyan Cat 2</h1>
    <div id="sample-live-editor"></div>
    <script src="../../build/js/live-editor.core_deps.js"></script>
    <script src="../../build/js/live-editor.editor_ace_deps.js"></script>
    <script src="../../build/js/live-editor.audio.js"></script>
    <script src="../../build/js/live-editor.shared.js"></script>
    <script src="../../build/js/live-editor.tooltips.js"></script>
    <script src="../../build/js/live-editor.ui.js"></script>
    <script src="../../build/js/live-editor.editor_ace.js"></script>
    <script>
    var outputUrl = "../output.html";
var code = "/**Nyan Cat 2 by David Elijah de Siqueira Campos McLaughlin\nOriginal size(400, 400);\nOriginally Created on 2012-11-12T19:10:34Z by kaid_976851263300560061760577\nLast Edited: 2012-11-12T19:10:34Z\nVotes/Spinoffs: 1/0\nOriginally Created: 2012-09-12T01:04:57Z from origin 975591894 with similarity of 0.9657191829738608\nOriginal Link: https://www.khanacademy.org/computer-programming/nyan-cat-2/1032729863\nRetrieved On: 07-Nov-2022 (17:07:12.035938)**/\
";

code = code + "\n//Nyan Cat as an oreo!\nvar drawStar = function(state, x, y) {\n    switch (state) {\n    case 0:\n        point(x, y);\n        break;\n    case 1:\n        line(x - 10, y, x - 8, y);\n        line(x + 10, y, x + 8, y);\n        line(x, y - 10, x, y - 8);\n        line(x, y + 10, x, y + 8);\n        break;\n    case 2:\n        point(x - 15, y);\n        point(x + 15, y);\n        point(x, y - 15);\n        point(x, y + 15);\n        point(x - 10, y - 10);\n        point(x + 10, y + 10);\n        point(x - 10, y + 10);\n        point(x + 10, y - 10);\n        break;\n    case 3:\n        point(x - 20, y);\n        point(x + 20, y);\n        point(x, y - 20);\n        point(x, y + 20);\n    }\n};\n\nvar drawStars = function(state, dx) {\n    stroke(255, 255, 255);\n    drawStar(state, 400 - (dx % 400), 30);\n    drawStar((state + 2) % 4, 400 - ((dx + 100) % 400), 100);\n    drawStar((state + 1) % 4, 400 - ((dx - 60) % 400), 150);\n    drawStar((state + 3) % 4, 400 - ((dx + 200) % 400), 230);\n    drawStar((state + 2), 400 - ((dx + 300) % 400), 290);\n    drawStar((state + 1), 400 - ((dx - 175) % 400), 370);\n};\n\nvar drawRainbowStreak = function(shift, color, dy) {\n    // each rainbow streak is sin wave\n    stroke(color);\n    var x = 0;\n    var y = 10 * sin(x * 2 + shift);\n    for (var i = 0; i < 134; i++) {\n        y = 5 * sin(4 * x + shift);\n        point(x, y + dy);\n        x += 1;\n    }\n};\n\nvar drawRainbow = function(shift) {\n    var red = color(255, 10, 10);\n    var orange = color(255, 111, 0);\n    var yellow = color(255, 255, 0);\n    var green = color(0, 255, 0);\n    var blue = color(0, 136, 255);\n    var purple = color(145, 48, 255);\n\n    strokeWeight(20);\n};\n\nvar drawNyanTail = function(state) {\n    noFill();\n    switch (state) {\n    case 1:\n        strokeWeight(27);\n        stroke(0, 0, 0);\n        bezier(147, 204, 114, 211, 97, 198, 90, 186);\n        strokeWeight(15);\n        stroke(143, 143, 143);\n        bezier(147, 204, 114, 211, 97, 198, 90, 186);\n        break;\n    case 3:\n        strokeWeight(27);\n        stroke(0, 0, 0);\n        bezier(147, 204, 148, 196, 104, 197, 97, 218);\n        strokeWeight(15);\n        stroke(143, 143, 143);\n        bezier(147, 204, 148, 196, 104, 197, 97, 218);\n        break;\n    default: // 0 and 2\n        strokeWeight(27);\n        stroke(0, 0, 0);\n        bezier(147, 204, 114, 211, 97, 203, 88, 199);\n        strokeWeight(15);\n        stroke(143, 143, 143);\n        bezier(147, 204, 114, 211, 97, 203, 88, 199);\n    }\n};\n\nvar drawNyanLegs = function(state) {\n    stroke(0, 0, 0);\n    strokeWeight(6);\n    fill(143, 143, 143);\n    switch (state) {\n    case 0:\n        // front legs\n        translate(300, 251);\n        rotate(-50);\n        ellipse(0, 0, 28, 42);\n        ellipse(-28, -28, 29, 44);\n        resetMatrix();\n        // back legs\n        translate(194, 251);\n        rotate(-46);\n        ellipse(0, 0, 26, 43);\n        ellipse(-26, -25, 25, 41);\n        resetMatrix();\n        break;\n    case 1:\n        ellipse(296, 252, 28, 37);\n        ellipse(256, 252, 29, 37);\n        ellipse(187, 252, 29, 37);\n        ellipse(148, 252, 29, 37);\n        break;\n    case 2:\n        // front legs\n        translate(282, 251);\n        rotate(31);\n        ellipse(0, 0, 28, 42);\n        ellipse(-35, 20, 31, 44);\n        resetMatrix();\n        // back legs\n        translate(187, 255);\n        rotate(51);\n        ellipse(0, 0, 29, 43);\n        ellipse(-27, 31, 29, 41);\n        resetMatrix();\n        break;\n    case 3:\n        ellipse(290, 240, 28, 37);\n        ellipse(253, 240, 29, 37);\n        ellipse(187, 240, 29, 37);\n        ellipse(148, 240, 29, 37);\n    }\n};\n\nvar drawNyanPoptart = function(state) {\n    stroke(0, 0, 0);\n    strokeWeight(6);\n\n    // poptart\n    var poptartDeltY = 0;\n    if (state === 3) {\n        poptartDeltY = -5;\n    }\n\n    fill(41, 32, 16);\n    rect(134, 109 + poptartDeltY, 163, 135, 10);\n    \n    // frosting\n    noStroke();\n    fill(31, 28, 30);\n    rect(150, 122 + poptartDeltY, 132, 108, 10);\n\n    // sprinkles\n    strokeWeight(10);\n    stroke(245, 193, 232);\n    point(200, 166 + poptartDeltY);\n    point(163, 141 + poptartDeltY);\n    point(174, 178 + poptartDeltY);\n    point(171, 222 + poptartDeltY);\n    point(200, 133 + poptartDeltY);\n    point(158, 200 + poptartDeltY);\n    point(227, 133 + poptartDeltY);\n    point(200, 207 + poptartDeltY);\n    point(262, 146 + poptartDeltY);\n    point(215, 195 + poptartDeltY);\n};\n\nvar drawNyanHead = function(state) {\n    strokeWeight(6);\n    stroke(0, 0, 0);\n    \n    // head\n    var headDeltY = 0;\n    var headDeltX = 0;\n    switch(state) {\n    case 0:\n        headDeltX = 10;\n        headDeltY = -6;\n        break;\n    case 2:\n        headDeltX = -2;\n        headDeltY = -6;\n        break;\n    case 3:\n        headDeltY = -15;\n    }\n\n    fill(143, 143, 143);    \n    ellipse(275 + headDeltX, 209 + headDeltY, 108, 80);\n\n    // ears\n    bezier(223 + headDeltX,\n            197 + headDeltY,\n            210 + headDeltX,\n            158 + headDeltY,\n            215 + headDeltX,\n            133 + headDeltY,\n            262 + headDeltX,\n            171 + headDeltY);\n    \n    bezier(329 + headDeltX,\n            199 + headDeltY,\n            338 + headDeltX,\n            149 + headDeltY,\n            321 + headDeltX,\n            133 + headDeltY,\n            285 + headDeltX,\n            169 + headDeltY);\n\n    // eyes\n    strokeWeight(14);\n    point(252 + headDeltX, 207 + headDeltY);\n    point(300 + headDeltX, 207 + headDeltY);\n\n    // nose\n    strokeWeight(8);\n    point(283 + headDeltX, 217 + headDeltY);\n\n    // mouth\n    strokeWeight(4);\n    bezier(259 + headDeltX,\n            225 + headDeltY,\n            262 + headDeltX,\n            235 + headDeltY,\n            287 + headDeltX,\n            231 + headDeltY,\n            284 + headDeltX,\n            226 + headDeltY);\n\n    bezier(300 + headDeltX,\n            225 + headDeltY,\n            300 + headDeltX,\n            232 + headDeltY,\n            282 + headDeltX,\n            232 + headDeltY,\n            284 + headDeltX,\n            226 + headDeltY);\n\n    // cheeks\n    strokeWeight(16);\n    stroke(250, 123, 142);\n    point(244 + headDeltX, 225 + headDeltY);\n    point(313 + headDeltX, 222 + headDeltY);\n\n    // eye highlights\n    strokeWeight(8);\n    stroke(255, 255, 255);\n    point(250 + headDeltX, 205 + headDeltY);\n    point(298 + headDeltX, 205 + headDeltY);\n};\n\nvar drawNyanCat = function(state) {\n    drawNyanTail(state);\n    drawNyanLegs(state);\n    drawNyanPoptart(state);\n    drawNyanHead(state);\n};\n\nvar state = 0;\nvar draw = function() {\n    background(8, 52, 107);\n\n    // there are only 4 states in the animation:\n    //      0, 1, 2, and 3\n    drawStars(state % 4, frameCount * 20);\n    drawRainbow(frameCount * 20);\n    drawNyanCat(state % 4);\n\n    // only increase the state every 4 frames, to slow\n    // down the animation\n    if (frameCount % 4 === 0) {\n        state += 1;\n    }\n};";
window.liveEditor = new LiveEditor({
                el: $("#sample-live-editor"),
                code: code,
                width: 400,
                height: 400,
                editorHeight: "80%",
                autoFocus: true,
                workersDir: "../../build/workers/",
                externalsDir: "../../build/external/",
                imagesDir: "../../build/images/",
                soundsDir: "../../sounds/",
                execFile: outputUrl,
                jshintFile: "../../build/external/jshint/jshint.js",
                newErrorExperience: true,
            });
            liveEditor.editor.on("change", function() {
                window.localStorage["test-code"] = liveEditor.editor.text();
            });
            ScratchpadAutosuggest.init(liveEditor.editor.editor);
            </script>
        </body>
        </html>
        