<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Stick Man Saves The World!!</title>
    <link rel="stylesheet" href="../../build/css/live-editor.core_deps.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.audio.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.tooltips.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.ui.css"/>
<style>
        body {
            padding: 20px;
        }
        h1 {
            padding: 0;
            margin: 0 0 20px 0;
        }
        #sample-live-editor {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>Stick Man Saves The World!!</h1>
    <div id="sample-live-editor"></div>
    <script src="../../build/js/live-editor.core_deps.js"></script>
    <script src="../../build/js/live-editor.editor_ace_deps.js"></script>
    <script src="../../build/js/live-editor.audio.js"></script>
    <script src="../../build/js/live-editor.shared.js"></script>
    <script src="../../build/js/live-editor.tooltips.js"></script>
    <script src="../../build/js/live-editor.ui.js"></script>
    <script src="../../build/js/live-editor.editor_ace.js"></script>
    <script>
    var outputUrl = "../output.html";
var code = "/**Stick Man Saves The World!! by David Elijah de Siqueira Campos McLaughlin\nOriginal size(400, 400);\nOriginally Created on 2012-11-12T19:18:22Z by kaid_976851263300560061760577\nLast Edited: 2012-11-12T19:18:22Z\nVotes/Spinoffs: 1/0\nOriginally Created: 2012-10-10T18:03:55Z from origin 989627242 with similarity of 0.9978202563665557\nOriginal Link: https://www.khanacademy.org/computer-programming/stick-man-saves-the-world/1078665513\nRetrieved On: 07-Nov-2022 (17:07:21.549611)**/\
";

code = code + "\n//Stick Man Saves the World!!\n//by Cameron\n//\n//a 2D platformer\n//\n//v1.1\n//-allow movement while falling\n//-modified levels to account for movement while falling\n//-patched bug with walls only checking feet of hero\n\n//TO DO:\n//1) add more levels !!\n//2) add more enemies\n//3) add WIN GAME screen \n//4) change bitmens color to reflect abs health not relative\n//5) add destructable boolean property to bitmen\n//  -adjust movebitmen routine to reflect\n//6) add level with weaker enemies to let players use combat\n//7) add tips on combat e.g. for strong enemies avoid\n// attacking them when they move towards you, but attack when // them when they move away from you, use the reach of your // kicks to avoid taking damage\n// light enemies weak, dark enemies strong,\n//8) add unlockable shield mechanic\n//  -add levels to discover shield\n//9) add unlockable bomb mechanic\n//  -add levels to discover bomb\n\n//turns on debug display\nvar mydebug=false;\nvar level=2;\n\nvar herohealth=105;\nvar herolives=10;\nvar herodamage=0.1;\nvar dead=false;\n\nvar herox=200;\nvar heroy=100;\nvar herostate=3;\nvar herodirection=0;\nvar lastdirection=1;\nvar heroaction =0;\nvar kicking=false;\nvar running=false;\nvar jumping=false;\nvar climbing=false;\nvar falling=false;\nvar standing= false;\nvar jumpheight=0;\nvar maxjumpheight=20;\n\nvar idlecounter=0;\nvar kickcounter=0;\nvar init=false;\n\nvar plats=[];\nvar ladders=[];\nvar walls=[];\nvar exits=[];\nvar bitmen=[];\nvar signs=[];\nvar healthups=[];\nvar oneups=[];\n\nvar drawStickmanForward;\nvar drawStickmanRight;  \nvar drawStickmanLeft;\nvar drawStickmanKickRight;\nvar drawStickmanKickLeft;\nvar drawStickmanClimb;\n\n//\n//Stickman saves the world Splash screen\n//\n\nvar started=false;\nvar instructs=false;\nvar scrolly=0;\n\nvar Splash=function(){\n    background(50, 50, 50);\n    stroke(0, 0, 0);\n    strokeWeight(2);\n    fill(255, 255, 255);\n    textSize(50);\n    text(\"Stick Man Saves\",15,50);\n    text(\"The World !!\",75,100);\n    \n    //head\n    fill(255, 255, 255);\n    ellipse(250,160,100,100);\n    //eyes\n    fill(255, 0, 0);\n    ellipse(230,150,10,10);\n    ellipse(270,150,10,10);\n    noFill();\n    //mouth\n    bezier(220,180,230,200,270,200,280,180);\n    //body\n    fill(255,255, 255);\n    line(250,210,250,300);\n    //left arm\n    line(250,250,200,250);\n    line(200,250,165,215);\n    //right arm\n    line(250,250,285,285);\n    line(285,285,310,250);\n    \n    line(250,300,200,400);\n    line(250,300,300,400);\n    \n    \n    fill(61, 61, 242);\n    \n    \n    ellipse(150,180,75,75);\n    \n    fill(10, 100, 10);\n    stroke(10, 100, 10);\n    \n    rect(117,178,3,3);\n    \n    rect(125,157,10,10);\n    rect(133,166,20,15);\n    rect(133,181,12,6);\n    rect(152,160,5,5);\n    rect(133,187,3,5);\n    rect(137,192,5,5);\n    rect(139,199,10,3);\n    rect(140,203,14,4);\n    rect(138,207,15,3);\n    rect(141,211,11,3);\n    rect(143,214,7,1);\n    \n    rect(166,155,3,6);\n    \n    rect(178,188,6,2);\n    rect(177,191,6,2);\n    rect(174,193,8,2);\n    rect(175,195,6,2);\n    rect(177,197,3,2);\n    \n    rect(178,163,3,2);\n    rect(179,165,3,2);\n    rect(180,167,3,2);\n    rect(181,169,3,2);\n    \n    textSize(20);\n    fill(247, 3, 149);\n    text(\"Press SPACE to play\",10,350);\n    text(\"Press SHIFT for Instructions\",10,380);\n    \n    //stroke(100, 100, 100);\n    //rect(5,270,160,50,5);\n    fill(15, 15, 15);\n    textSize(15);\n    text(\"Currently\\nFeaturing\\n 8 levels\",325,350);    \n    \n    \n    strokeWeight(1);\n\n};\n\nvar Instructions=function(y){\n    background(50, 50, 50);\n    \n    translate(0,-scrolly);\n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(250,160,100,100);\n    //eyes\n    fill(255, 0, 0);\n    ellipse(230,150,10,10);\n    ellipse(270,150,10,10);\n    noFill();\n    //mouth\n    bezier(220,180,230,200,270,200,280,180);\n    //body\n    fill(255,255, 255);\n    line(250,210,250,300);\n    //left arm\n    line(250,250,200,250);\n    line(200,250,165,215);\n    //right arm\n    line(250,250,285,285);\n    line(285,285,310,250);\n    line(250,300,200,400);\n    line(250,300,300,400);  \n    \n    var j=-1;\n    \n    var mytext=[];\n    mytext[j++]=\"\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"STICK MAN SAVES THE WORLD !!\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"by Cameron :)\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"The evil Bit King, from the 8-bit kingdom,\";\n    mytext[j++]=\"has launched a sneak attack ! His 8-bit\";\n    mytext[j++]=\"minions have devastated the armies of \";\n    mytext[j++]=\"the world.\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"The other heroes tried to take out Bit King \";\n    mytext[j++]=\",but failed. They are now prisoners of\";\n    mytext[j++]=\"Bit King. :(\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"The world\'s last hope is Stick Man...\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"CONTROLS\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"Use ARROW KEYS to MOVE Stick Man\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"Use SPACE to JUMP\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"Use \'A\' key to KICK\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"COMBAT\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"Bit minions hurt Stick Man, and should\";\n    mytext[j++]=\"normally be avoided. However, Stick Man\";\n    mytext[j++]=\"can hurt, and even destroy minions by\";\n    mytext[j++]=\"kicking them. Minions change color when\";\n    mytext[j++]=\"they take damage.\";\n    mytext[j++]=\"\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"FOLLOW THE EXITS TO BIT KING.\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"GOOD LUCK !!\";\n    mytext[j++]=\"*\";\n    mytext[j++]=\"YOU ARE OUR LAST HOPE !\";\n    \n    textSize(20);\n    for(var i=0;i<mytext.length;i++){\n        \n        if(mytext[i] !== \"*\"){\n             if(mytext[i-1] === \"*\"){\n                 fill(0, 175, 175);\n             }else{\n                 fill(255, 255, 255);\n             }\n             text(mytext[i],20,400+i*20);   \n        }\n        \n    }\n    scrolly = (scrolly+0.6)%(mytext.length*20+400);\n    \n    resetMatrix();\n    stroke(255, 0, 0);\n    fill(0, 0, 0);\n    rect(0,350,400,50);\n    fill(255, 0, 0);\n    text(\"Press SPACE to play\",10,380);\n\n\n};\n\nvar tears=[];\n\nvar GameOver=function(){\n    background(50,50,50);\n    stroke(0, 0, 0);\n    strokeWeight(2);\n    fill(255, 255, 255);\n    \n    ellipse(250,100,100,100);\n    fill(255, 0, 0);\n    ellipse(260,100,10,10);\n    ellipse(288,100,10,10);\n    \n    noFill();\n    bezier(250,131,250,113,290,109,280,130);\n    \n    //body\n    line(238,149,223,200);\n    //left arm\n    line(230,170,210,140);\n    line(210,140,257,100);\n    //right arm\n    line(230,170,290,140);\n    line(290,140,292,100);\n    //left leg\n    line(223,200,265,245);\n    line(265,245,220,212);\n    //right leg\n    line(223,200,191,245);\n    line(190,245,170,220);\n    \n    textSize(50);\n    text(\"GAME\",30,100);\n    text(\"OVER\",30,150);\n    \n    textSize(25);\n    text(\"Perhaps another Stick Man\",50,275);\n    text(\"will save us ?\",50,300);\n    \n    fill(255, 255, 255);\n    textSize(20);\n    text(\"Press SPACE to be that Stick Man\",50,350);\n    text(\"Press SHIFT for instructions\",50,380);\n    \n    fill(0, 0, 255);\n    \n    if(tears.length <7){\n        tears[tears.length]=20*tears.length;\n       \n    }\n    \n    for(var i=0;i<tears.length;i++){\n        ellipse(262,105+tears[i],4,4); \n        ellipse(286,105+tears[i],4,4); \n        tears[i] = (tears[i]+1)%140;\n    }   \n       \n    strokeWeight(1);\n};\n\nvar isCollision=function(x1,y1,w1,h1,x2,y2,w2,h2){\n  //utility function to detect collision of two rectangles\n  //x1,y1 and x2,y2 should be top left corners\n  \n  \n  if (mydebug){\n    //draw bounding boxes fro debugging\n    noFill();\n    stroke(255, 0, 0);\n    rect(x1,y1,w1,h1);\n    stroke(0, 0, 255);\n    rect(x2,y2,w2,h2);\n  }\n \n  if(x1 <= (x2+w2) && (x1+w1) >= x2 && y1 <= (y2+h2) && (y1+h1) >= y2){\n      \n      return true;\n  } \n  \n  return false;\n  \n};\n\n//\n//DRAW STICKMAN ROUTINES\n//\nvar drawStickman = function(x,y,mouthstyle,direction, action){\n    //action -1=idle,0=moving,1=kicking, \n    \n    \n    if (direction===0&&!falling || standing ){\n        drawStickmanForward(x,y,mouthstyle);\n    }else  if (direction ===1 && running && !kicking){\n        drawStickmanRight(x,y,mouthstyle);\n    }else  if (direction ===2 && running && !kicking){\n        drawStickmanLeft(x,y,mouthstyle);\n    }else if(direction===1 && kicking){\n        drawStickmanKickRight(x,y,mouthstyle);\n    }else if(direction===2 && kicking){\n        drawStickmanKickLeft(x,y,mouthstyle);\n    }else if(direction===3 && climbing){\n        drawStickmanClimb(x,y,mouthstyle);\n    }else if(direction===4 && climbing){\n        drawStickmanClimb(x,y,mouthstyle);\n    }else if(falling){\n        drawStickmanForward(x,y,mouthstyle);\n    }else{\n        drawStickmanForward(x,y,1);\n    }\n\n    \n    \n};\n\nvar drawStickmanForward=function(x,y,mouthstyle){\n        //forward facing \n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(x,y,20,20);\n    //eyes\n    fill(255, 0, 0);\n    ellipse(x+5,y-3,3,3);\n    ellipse(x-5,y-3,3,3);\n    //mouth\n    noFill();\n    stroke(0, 0, 0);\n    if (mouthstyle === 0){\n        //neutral\n        bezier(x-5,y+5,x+5,y+5,x+5,y+5,x+5,y+5);\n    }else if(mouthstyle === 1){\n        //weary\n        bezier(x-5,y+5,x,y,x,y+5,x+5,y+5);\n    }else if(mouthstyle === 2){\n        //sad\n        bezier(x-5,y+5,x,y,x,y,x+5,y+5);\n    }else if(mouthstyle === 3){\n        //happy\n        bezier(x-5,y+2,x,y+6,x,y+6,x+5,y+2);\n    }else if(mouthstyle === 4){\n        //shock\n        fill(0, 0, 0);\n        ellipse(x,y+5,6,5);\n    }\n    //body\n    line(x,y+10,x,y+30);\n    //arms\n    line(x,y+15,x-10,y+30);\n    line(x,y+15,x+10,y+30);\n    //legs\n    line(x,y+30,x-10,y+50);\n    line(x,y+30,x+10,y+50);\n};\n\nvar drawStickmanRight=function(x,y,mouthstyle){\n        //forward facing \n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(x,y,20,20);\n    //eye\n    fill(255, 0, 0);\n    ellipse(x+8,y-3,3,3);\n    //mouth\n    noFill();\n    stroke(0, 0, 0);\n    if (mouthstyle === 0){\n        //neutral\n        line(x+3,y+5,x+8,y+5);\n    }else if(mouthstyle === 1){\n        //weary\n        line(x+3,y+5,x+5,y+3);\n        line(x+5,y+3,x+8,y+5);\n        \n    }else if(mouthstyle === 2){\n        //sad\n        bezier(x+2,y+6,x+5,y+2,x+9,y+5,x+9,y+3);\n    }else if(mouthstyle === 3){\n        //happy\n        bezier(x+2,y+2,x,y,x,y+5,x+9,y+5);\n    }else if(mouthstyle === 4){\n        //shock\n        fill(0, 0, 0);\n        ellipse(x+6,y+5,6,5);\n    }\n    \n    //body\n    line(x,y+10,x,y+30);\n    \n    //arms\n    var arm1theta=-135+x%90;\n    if (herox%180 >= 90){\n        arm1theta= -45-x%90;\n    } \n        \n    var elbow1=[x+10*cos(arm1theta),y+15-10*sin(arm1theta)];\n    var wrist1=[elbow1[0]+10*cos(arm1theta+75),elbow1[1]-10*sin(arm1theta+75)];\n    line(x,y+15,elbow1[0],elbow1[1]);\n    line(elbow1[0],elbow1[1],wrist1[0],wrist1[1]);\n        \n    var arm2theta=-45-x%90;\n    if (x%180 >= 90){\n        arm2theta= -135+x%90;\n    } \n        \n    var elbow2=[x+10*cos(arm2theta),y+15-10*sin(arm2theta)];\n    var wrist2=[elbow2[0]+10*cos(arm2theta+75),elbow2[1]-10*sin(arm2theta+75)];\n        \n    line(x,y+15,elbow2[0],elbow2[1]);\n    line(elbow2[0],elbow2[1],wrist2[0],wrist2[1]);   \n\n        \n    //legs\n    var leg1theta=-135+x%90;\n    if (x%180 >= 90){\n        leg1theta= -45-x%90;\n    } \n    var knee1=[x+10*cos(leg1theta),y+30-10*sin(leg1theta)];\n    var ankle1=[knee1[0]+10*cos(leg1theta-75),knee1[1]-10*sin(leg1theta-75)];\n    line(x,y+30,knee1[0],knee1[1]);\n    line(knee1[0],knee1[1],ankle1[0],ankle1[1]);\n    \n    var leg2theta=-45-herox%90;\n    if (herox%180 >= 90){\n        leg2theta= -135+herox%90;\n    } \n    var knee2=[x+10*cos(leg2theta),y+30-10*sin(leg2theta)];\n    var ankle2=[knee2[0]+10*cos(leg2theta-75),knee2[1]-10*sin(leg2theta-75)];\n    line(x,y+30,knee2[0],knee2[1]);\n    line(knee2[0],knee2[1],ankle2[0],ankle2[1]);\n\n};\n\nvar drawStickmanLeft=function(x,y,mouthstyle){\n        //forward facing \n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(x,y,20,20);\n    //eye\n    fill(255, 0, 0);\n    ellipse(x-8,y-3,3,3);\n    //mouth\n    noFill();\n    stroke(0, 0, 0);\n    if (mouthstyle === 0){\n        //neutral\n        line(x-3,y+5,x-8,y+5);\n    }else if(mouthstyle === 1){\n        //weary\n        line(x-3,y+5,x-5,y+3);\n        line(x-5,y+3,x-8,y+5);\n        \n    }else if(mouthstyle === 2){\n        //sad\n        bezier(x-2,y+6,x-5,y+2,x-9,y+5,x-9,y+3);\n    }else if(mouthstyle === 3){\n        //happy\n        bezier(x-2,y+2,x,y,x,y+5,x-9,y+5);\n    }else if(mouthstyle === 4){\n        //shock\n        fill(0, 0, 0);\n        ellipse(x-6,y+5,6,5);\n    }\n    \n    //body\n    line(x,y+10,x,y+30);\n    \n    //arms\n    var arm1theta=-135+x%90;\n    if (x%180 >= 90){\n        arm1theta= -45-x%90;\n    } \n        \n    var elbow1=[x-10*cos(arm1theta),y+15-10*sin(arm1theta)];\n    var wrist1=[elbow1[0]-10*cos(arm1theta+75),elbow1[1]-10*sin(arm1theta+75)];\n    line(x,y+15,elbow1[0],elbow1[1]);\n    line(elbow1[0],elbow1[1],wrist1[0],wrist1[1]);\n        \n    var arm2theta=-45-x%90;\n    if (x%180 >= 90){\n        arm2theta= -135+x%90;\n    } \n        \n    var elbow2=[x-10*cos(arm2theta),y+15-10*sin(arm2theta)];\n    var wrist2=[elbow2[0]-10*cos(arm2theta+75),elbow2[1]-10*sin(arm2theta+75)];\n        \n    line(x,y+15,elbow2[0],elbow2[1]);\n    line(elbow2[0],elbow2[1],wrist2[0],wrist2[1]);   \n\n        \n    //legs\n    \n    var leg1theta=-135+x%90;\n    if (x%180 >= 90){\n        leg1theta= -45-x%90;\n    } \n    var knee1=[x-10*cos(leg1theta),y+30-10*sin(leg1theta)];\n    var ankle1=[knee1[0]-12*cos(leg1theta-75),knee1[1]-12*sin(leg1theta-75)];\n    line(x,y+30,knee1[0],knee1[1]);\n    line(knee1[0],knee1[1],ankle1[0],ankle1[1]);\n    \n    var leg2theta=-45-x%90;\n    if (x%180 >= 90){\n        leg2theta= -135+x%90;\n    } \n    var knee2=[x-10*cos(leg2theta),y+30-10*sin(leg2theta)];\n    var ankle2=[knee2[0]-10*cos(leg2theta-75),knee2[1]-10*sin(leg2theta-75)];\n    line(x,y+30,knee2[0],knee2[1]);\n    line(knee2[0],knee2[1],ankle2[0],ankle2[1]);\n\n};\n\nvar drawStickmanKickRight=function(x,y,mouthstyle){\n    \n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(x-5,y,20,20);\n    //eyes\n    fill(255, 0, 0);\n    ellipse(x,y-3,3,3);\n    ellipse(x-10,y-3,3,3);\n    //mouth\n    noFill();\n    stroke(0, 0, 0);\n    if (mouthstyle === 0){\n        //neutral\n        bezier(x-10,y+5,x,y+5,x,y+5,x,y+5);\n    }else if(mouthstyle === 1){\n        //weary\n        bezier(x-10,y+5,x-5,y,x-5,y+5,x,y+5);\n    }else if(mouthstyle === 2){\n        //sad\n        bezier(x-10,y+5,x-5,y,x-5,y,x,y+5);\n    }else if(mouthstyle === 3){\n        //happy\n        bezier(x-10,y+2,x-5,y+6,x-5,y+6,x,y+2);\n    }else if(mouthstyle === 4){\n        //shock\n        fill(0, 0, 0);\n        ellipse(x-5,y+5,6,5);\n    }\n   \n    \n    //body\n    line(x-5,y+10,x,y+30);\n    //arms\n    line(x-2,y+15,x-10,y+30); \n    line(x-2,y+15,x+4,y+21);\n    line(x+4,y+21,x+10,y+15);\n    //legs\n    line(x,y+30,x-10,y+50);\n    line(x,y+30,x+20,y+10);    \n};\n\nvar drawStickmanKickLeft=function(x,y,mouthstyle){\n    \n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(x+5,y,20,20);\n    //eyes\n    fill(255, 0, 0);\n    ellipse(x+10,y-3,3,3);\n    ellipse(x,y-3,3,3);\n    //mouth\n    noFill();\n    stroke(0, 0, 0);\n    if (mouthstyle === 0){\n        //neutral\n        bezier(x+10,y+5,x,y+5,x,y+5,x,y+5);\n    }else if(mouthstyle === 1){\n        //weary\n        bezier(x+10,y+5,x+5,y,x+5,y+5,x,y+5);\n    }else if(mouthstyle === 2){\n        //sad\n        bezier(x+10,y+5,x+5,y,x+5,y,x,y+5);\n    }else if(mouthstyle === 3){\n        //happy\n        bezier(x+10,y+2,x+5,y+6,x+5,y+6,x,y+2);\n    }else if(mouthstyle === 4){\n        //shock\n        fill(0, 0, 0);\n        ellipse(x+5,y+5,6,5);\n    }\n   \n    \n    //body\n    line(x+5,y+10,x,y+30);\n    //arms\n    line(x+2,y+15,x+10,y+30); \n    line(x+2,y+15,x-4,y+21);\n    line(x-4,y+21,x-10,y+15);\n    //legs\n    line(x,y+30,x+10,y+50);\n    line(x,y+30,x-20,y+10);    \n};\n\nvar drawStickmanClimb=function(x,y,mouthstyle){\n    //forward facing \n    stroke(0, 0, 0);\n    //head\n    fill(255, 255, 255);\n    ellipse(x,y,20,20);\n    \n    //no eyes, no mouth\n   \n    //body\n    line(x,y+10,x,y+30);\n    //arms\n    \n    //elbow 1\n    line(x,y+15,x-6,y+21);\n    //wrist1\n    \n    //add 180 to y to keep value positive\n    var wristheight1= (180+y)%18;\n    line(x-6,y+21,x-7,y+12+wristheight1);\n    \n    //elbow 2\n    var wristheight2= (180+y)%18;\n    line(x,y+15,x+6,y+21);\n    line(x+6,y+21,x+7,y+30-wristheight2);\n    \n    //legs\n    var ankleheight1=(180+y)%18;\n    line(x,y+30,x-5,y+40);\n    line(x-5,y+40,x-6,y+38+ankleheight1);\n    \n    var ankleheight2=(180+y)%18;\n    line(x,y+30,x+5,y+40);\n    line(x+5,y+40,x+6,y+60-ankleheight2);\n    \n};\n\n//\n//OBJECTS\n//\nvar Platform = function(x,y,w){\n    this.px=x;\n    this.py=y;\n    this.pw=w;\n    this.vx=0;\n    this.vy=0;\n    this.xmin=x;\n    this.xmax=x+w;\n    this.ymin=y;\n    this.ymax=y;\n    this.directionx=1;\n    this.directiony=1;\n};\n\nvar Ladder =function(x,y,h){\n    this.lx=x;\n    this.ly=y;\n    this.lh=h;\n};\n\nvar Wall =function(x,y,h){\n    this.wx=x;\n    this.wy=y;\n    this.wh=h;\n};\n\nvar LevelExit =function(x,y,lev){\n    this.lx=x;\n    this.ly=y;\n    this.level=lev;\n};\n\n//bit enemy pictures and bodies\n\n//octibit\nvar octibit=[];\n\noctibit[0]=[];\noctibit[0][0]=[0,0,1,1,0,0];\noctibit[0][1]=[0,1,1,1,1,0];\noctibit[0][2]=[1,1,0,1,0,1];\noctibit[0][3]=[0,1,1,1,1,0];\noctibit[0][4]=[0,0,1,1,0,0];\noctibit[0][5]=[0,1,1,1,1,0];\noctibit[0][6]=[1,0,1,0,0,1];\noctibit[0][7]=[0,1,1,0,1,0];\n\noctibit[1]=[];\noctibit[1][0]=[0,0,1,1,0,0];\noctibit[1][1]=[0,1,1,1,1,0];\noctibit[1][2]=[1,0,1,0,1,1];\noctibit[1][3]=[0,1,1,1,1,0];\noctibit[1][4]=[0,0,1,1,0,0];\noctibit[1][5]=[0,1,1,1,1,0];\noctibit[1][6]=[1,0,0,1,0,1];\noctibit[1][7]=[1,0,0,1,0,1];\n\n//bit warrior\nvar bitwarrior=[];\n\nbitwarrior[0]=[];\nbitwarrior[0][0]=[0,0,0,1,1,0,0,0];\nbitwarrior[0][1]=[0,1,1,1,1,1,1,0];\nbitwarrior[0][2]=[0,1,0,1,1,0,1,1];\nbitwarrior[0][3]=[1,1,0,1,1,0,0,0];\nbitwarrior[0][4]=[0,0,0,1,1,1,0,0];\nbitwarrior[0][5]=[0,0,1,0,0,1,0,0];\nbitwarrior[0][6]=[0,0,1,0,0,1,1,0];\nbitwarrior[0][7]=[0,1,1,0,0,0,0,0];\n\nbitwarrior[1]=[];\nbitwarrior[1][0]=[0,0,0,1,1,0,0,0];\nbitwarrior[1][1]=[0,1,1,1,1,1,1,0];\nbitwarrior[1][2]=[1,1,0,1,1,0,1,0];\nbitwarrior[1][3]=[0,0,0,1,1,0,1,1];\nbitwarrior[1][4]=[0,0,1,1,1,0,0,0];\nbitwarrior[1][5]=[0,0,1,0,0,1,0,0];\nbitwarrior[1][6]=[0,1,1,0,0,1,0,0];\nbitwarrior[1][7]=[0,0,0,0,0,1,1,0];\n\n//bit bat\nvar bitbat=[];\nbitbat[0]=[];\nbitbat[0][0]=[0,0,0,0,0,0,0,0];\nbitbat[0][1]=[0,1,0,0,0,0,1,0];\nbitbat[0][2]=[1,0,1,1,1,1,0,1];\nbitbat[0][3]=[0,0,0,1,1,0,0,0];\n\nbitbat[1]=[];\nbitbat[1][0]=[1,0,0,0,0,0,0,1];\nbitbat[1][1]=[0,1,0,0,0,0,1,0];\nbitbat[1][2]=[0,0,1,1,1,1,0,0];\nbitbat[1][3]=[0,0,0,1,1,0,0,0];\n\n//bit lava\nvar bitlava=function(width,height){\n    //generates lava block bit enemy\n    var lava=[];\n    lava[0]=[];\n    for (var i=0;i<height;i++){\n        lava[0][i]=[];\n        for(var j=0;j<width;j++){\n            lava[0][i][j]=1;    \n        }\n    }\n\n    return lava;\n};\n\nvar BitMan = function(x,y,xmin,xmax,size,speed,btype){\n    this.bx=x;\n    this.by=y;\n    this.xmin=xmin;\n    this.xmax=xmax;\n    this.size=size;\n    this.health=size;\n    this.maxhealth=size;\n    this.damage=0.1*size;\n    this.speed=speed;\n    this.direction=1;\n    this.pic=btype;\n    \n};\n\nvar Sign=function(x,y,w,h,message){\n    this.sx=x;\n    this.sy=y;\n    this.sw=w;\n    this.sh=h;\n    this.message=message;\n};\n\nvar HealthUp=function(x,y,amount){\n    this.hx=x;\n    this.hy=y;\n    this.bonus=amount;\n};\n\nvar OneUp=function(x,y){\n    this.lx=x;\n    this.ly=y;\n};\n\n//\n//DRAW OBJECT ROUTINES\n//\nvar drawPlatforms=function(){\n\n    for (var i=0;i<plats[level].length;i++){\n        var platsx= plats[level][i].px;\n        var platsy= plats[level][i].py;\n        var platsw= plats[level][i].pw;\n        stroke(0,0,0);\n        line(platsx,platsy,platsx+platsw,platsy);\n        \n    }\n};\n\nvar drawLadders=function(){\n\n    for (var i=0;i<ladders[level].length;i++){\n        var laddersx= ladders[level][i].lx;\n        var laddersy= ladders[level][i].ly;\n        var laddersh= ladders[level][i].lh;\n        stroke(0,0,0);\n        fill(150,150,150);\n        rect(laddersx,laddersy,30,-laddersh);\n        for(var j=0;j<laddersh;j+=5){\n            line(laddersx,laddersy-j,laddersx+30,laddersy-j);\n        }\n        \n    }\n};\n\nvar drawWalls=function(){\n\n    for (var i=0;i<walls[level].length;i++){\n        var wallsx= walls[level][i].wx;\n        var wallsy= walls[level][i].wy;\n        var wallsh= walls[level][i].wh;\n        stroke(0,0,0);\n        fill(0, 0, 0);\n        rect(wallsx,wallsy,25,-wallsh);\n    }\n};\n\nvar drawExits=function(){\n\n    for (var i=0;i<exits[level].length;i++){\n        var exitsx= exits[level][i].lx;\n        var exitsy= exits[level][i].ly;\n        var exitslev= exits[level][i].level;\n        stroke(255,0,0);\n        fill(0, 255, 0);\n        rect(exitsx,exitsy,70,30,5);\n        fill(0, 0, 0);\n        textSize(15);\n        text(\"Exit to \"+exitslev,exitsx+5,exitsy+20);\n        \n    }\n};\n\n\n    \n\nvar drawBitmen=function(){\n    \n    \n\n    for (var i=0;i<bitmen[level].length;i++){\n        var bitmenx= bitmen[level][i].bx;\n        var bitmeny= bitmen[level][i].by;\n        var bsize= bitmen[level][i].size;\n        var frachealth= bitmen[level][i].health / bitmen[level][i].maxhealth;\n        var shade= floor(255*(1-frachealth));\n        var bpic=bitmen[level][i].pic;\n        var p= floor(bitmenx/bsize)%bpic.length;\n        \n        \n        for(var j=0;j<bpic[p].length;j++){\n            for(var k=0;k<bpic[p][j].length;k++){\n                if (bpic[p][j][k]===1){\n                    stroke(255, 0, 0);\n                    \n                    fill(shade, shade, shade);\n                    \n                    rect(bitmenx+bsize*k,bitmeny-(bpic[p].length-j)*bsize,bsize,bsize);\n            }\n        }\n    }\n        \n    }\n};\n\nvar drawSigns=function(){\n    for (var i=0;i<signs[level].length;i++){\n        fill(79, 39, 8);\n        rect(signs[level][i].sx,signs[level][i].sy,signs[level][i].sw,signs[level][i].sh,5);\n        textSize(10);\n        fill(255, 255, 255);\n        text(signs[level][i].message,10+signs[level][i].sx,10+signs[level][i].sy);\n    }\n};\n\nvar drawHealthUps=function(){\n    \n    for (var i=0;i<healthups[level].length;i++){\n        stroke(0, 0, 0);\n        fill(255, 255, 255);\n        var healthx=healthups[level][i].hx;\n        var healthy=healthups[level][i].hy;\n        ellipse(healthx,healthy,30,30);\n        noStroke();\n        fill(255, 0, 0);\n        rect(healthx-5,healthy-12,10,24,2);\n        rect(healthx-12,healthy-5,24,10,2);\n        stroke(0, 0, 0);\n    }\n};\n\nvar drawOneUps=function(){\n    \n    for (var i=0;i<oneups[level].length;i++){\n        stroke(0, 0, 0);\n        fill(0, 255, 225);\n        var oneupx=oneups[level][i].lx;\n        var oneupy=oneups[level][i].ly;\n        ellipse(oneupx,oneupy,30,30);\n        fill(0, 0, 0);\n        textSize(20);\n        text(\"+1\",oneupx-14,oneupy+5);\n        \n    }\n};\n\n//\n//MOVESTICKMAN ROUTINES\n//\nvar isSupported=function(x,y){\n    \n    var supported=-1;\n    for(var i=0;i<plats[level].length;i++){\n        var platx1=plats[level][i].px;\n        var platx2=platx1+plats[level][i].pw;\n        var platy = plats[level][i].py;\n        if(x+10 > platx1 && x-10 < platx2 && platy===(y+50)){\n            supported=i;\n            break;\n        } \n    }\n    return supported;\n};\n\nvar isOnLadder=function(x,y){\n    \n    var onladder=false;\n    for(var i=0;i<ladders[level].length;i++){\n        var ladderx1= ladders[level][i].lx;\n        var ladderx2= ladderx1+30;\n        var laddery1= ladders[level][i].ly;\n        var laddery2= laddery1-ladders[level][i].lh;\n               \n        if(x-10 >= ladderx1 && (x+10) <= (ladderx2) && (y+50) <= laddery1 && (y+50) >= laddery2){\n            onladder=true;\n\n            break;\n        } \n    }\n\n    return onladder;\n};\n\nvar initLevel;\nvar checkExits=function(x,y){\n    \n    var myexit=-1;\n    for(var i=0;i<exits[level].length;i++){\n        var exitsx1= exits[level][i].lx;\n        var exitsx2= exitsx1+70;\n        var exitsy1= exits[level][i].ly;\n        var exitsy2= exitsy1+30;\n       \n               \n        if(x-10 >= exitsx1 && (x+10) <= (exitsx2) && y >= exitsy1 && y <= exitsy2 ){\n            level=exits[level][i].level;\n            initLevel();\n            myexit=i;\n\n            break;\n        } \n    }\n\n    return myexit;\n};\n\nvar checkWalls=function(x,y){\n    \n    for(var i=0;i<walls[level].length;i++){\n        var wallsx1= walls[level][i].wx;\n        var wallsx2= wallsx1+25;\n        var wallsy1= walls[level][i].wy;\n        var wallsy2= wallsy1-walls[level][i].wh;\n       \n        if( isCollision(x+10,y,1,50,wallsx1,wallsy2,25,walls[level][i].wh)){\n            herox=wallsx1-10;\n        }\n        else if( isCollision(x-10,y,1,50,wallsx1,wallsy2,25,walls[level][i].wh)){\n            herox=wallsx2+10;\n        }\n               \n        \n    }\n\n    \n};\n\nvar checkHealthUps=function(){\n    for(var i=0;i<healthups[level].length;i++){\n        var healthx=healthups[level][i].hx;\n        var healthy=healthups[level][i].hy;\n        var amount=healthups[level][i].bonus;\n        \n        if(isCollision(herox-10,heroy-10,20,60,healthx-15,healthy-15,30,30)){\n            herohealth += amount;\n            if (herohealth >100){\n                herohealth=100;\n            }\n            healthups[level].splice(i,1);\n        }\n    }\n};\n\nvar checkOneUps=function(){\n    for(var i=0;i<oneups[level].length;i++){\n        var oneupx=oneups[level][i].lx;\n        var oneupy=oneups[level][i].ly;\n        \n        if(isCollision(herox-10,heroy-10,20,60,oneupx-15,oneupy-15,30,30)){\n            herolives++;\n            oneups[level].splice(i,1);\n        }\n    }\n};\n\nvar moveStickman=function(){\n    \n    //hero is happy\n    herostate=3;\n    \n    //check if we have anything under hero\n    var support= isSupported(herox,heroy);\n    var platvx=0;\n    var platvy=0;\n    \n    //check if hero is idle\n    if(!keyIsPressed){\n        idlecounter -= 1;\n        if(idlecounter <= 0){\n            heroaction=-1;\n            if(herodirection!==0){\n                lastdirection=herodirection;\n            }\n            herodirection=0;\n            idlecounter=0; \n            standing=true;\n            falling=false;\n            running=false;\n            kicking=false;\n        }\n    }\n    \n    //check if hero is falling\n    falling=false;\n    if( !jumping && !climbing && support===-1){\n         falling=true;\n    }\n    \n    \n    //check if hero is climbing\n    if(climbing){\n        if(!isOnLadder(herox,heroy)){\n            climbing=false;\n        }\n    }\n     \n    //if hero tries to climb without a ladder, reset to     standing\n    if(!climbing && (herodirection===3||herodirection===4)){\n        herodirection=0;\n        standing=true;\n    }\n    \n    //move the hero\n    if (falling){\n        \n        climbing=false;\n        jumping=false;\n        if(isSupported(herox,heroy+1)!==-1){\n            heroy+=1;\n            falling=false;\n        }else{\n            heroy +=2;\n\n        }\n        \n        \n    }\n    //else if instead of if will prevent moving while falling\n    if (herodirection===1 && (running ||(kicking && jumping)) ){\n        herox +=2;\n    }else if(herodirection===2 && (running ||(kicking && jumping))){\n        herox -= 2;\n    }else if(climbing&&herodirection===3){\n        heroy -= 2;\n    }else if(climbing&& herodirection===4 && isOnLadder(herox,heroy+1)){\n        //isOnLadder(herox,heroy+1) prevents\n        //hero from climbing down through floor\n        heroy +=2;\n    }        \n    \n    if (jumping && !falling){   \n        var jumpv=2;\n        if(jumpheight >1 && support!==-1){\n             jumping=false;\n             jumpheight=0;\n        }\n        else if (jumpheight < maxjumpheight){\n            jumpheight += 1;\n            heroy -= jumpv;\n        }else if(jumpheight < 2*maxjumpheight){\n            if(isSupported(herox,heroy+1)!==-1){\n                jumpheight = 0;\n                jumping=false;\n                heroy += 1;  \n            }else{\n                jumpheight +=1;\n                heroy+=2;\n            }\n             \n        }\n        else{\n            jumping=false;\n            jumpheight=0;\n        }\n    }\n    \n    \n    if(kicking && !jumping){\n        kickcounter -=1; \n        \n        if (kickcounter <=0){\n            kickcounter=0;\n            kicking=false;\n            if(!running){\n                standing=true;\n            }\n        }\n    }else{\n        kickcounter=0;\n    }\n\n    //keep hero in bounds\n    if (herox<10){\n        herox=10;\n    }\n    if (heroy+50<=0){\n        heroy=-50;\n    }\n    if (herox >390){\n        herox=390;\n    } \n    if(heroy+50 >400){\n        heroy=400-50;\n    }\n    \n    //set heros mood\n    if (herohealth >= 90){\n        herostate=3;\n    }else if(herohealth >= 75){\n        herostate=0;\n    }else if (herohealth >=50){\n        herostate=1;\n    }else if (herohealth >=25){\n        herostate=2;\n    }else{\n        herostate=4;\n    }\n    \n    //give hero shocked look if falling\n    if (falling){\n        herostate=4;\n    }\n        \n    \n    \n    \n};\n\n//\n//MOVE OBJECT ROUTINES\n//\nvar movePlatforms=function(){\n    \n    for (var i=0;i<plats[level].length;i++){\n        var oldpy= plats[level][i].py;\n        var oldpx= plats[level][i].px;\n        \n        plats[level][i].px += plats[level][i].directionx*plats[level][i].vx;\n        plats[level][i].py += plats[level][i].directiony*plats[level][i].vy;\n        if ((plats[level][i].px+plats[level][i].pw) > plats[level][i].xmax){\n            plats[level][i].px=plats[level][i].xmax-plats[level][i].pw;\n            plats[level][i].directionx *= -1;\n        }\n        if (plats[level][i].px < plats[level][i].xmin){\n            plats[level][i].px=plats[level][i].xmin;\n            plats[level][i].directionx *= -1;\n        }\n        if (plats[level][i].py > plats[level][i].ymax){\n            plats[level][i].py=plats[level][i].ymax;\n            plats[level][i].directiony *= -1;\n        }\n        if (plats[level][i].py < plats[level][i].ymin){\n            plats[level][i].py=plats[level][i].ymin;\n            plats[level][i].directiony *= -1;\n        }\n        \n        //moves hero with moving platform \n        if(herox+10 > oldpx && herox-10 < (oldpx + plats[level][i].pw) && (oldpy===(heroy+50) || (oldpy > (heroy+50) && plats[level][i].py < (heroy+50)) )){\n             heroy=plats[level][i].py-50;\n             herox = (herox-oldpx)+plats[level][i].px;\n         }\n        \n    }\n    \n    \n};\n\nvar moveBitmen=function(){\n    \n    for(var i=0;i<bitmen[level].length;i++){\n        var bx=bitmen[level][i].bx;\n        var bpic=bitmen[level][i].pic;\n        var bsize=bitmen[level][i].size;\n        var p= floor(bx/bsize)%bpic.length;\n        var xsize= bpic[p][0].length;\n        var ysize=bpic[p].length;\n        \n        bitmen[level][i].bx += bitmen[level][i].direction*bitmen[level][i].speed;\n        if (bitmen[level][i].bx < bitmen[level][i].xmin){\n            bitmen[level][i].bx=bitmen[level][i].xmin;\n            bitmen[level][i].direction *=-1;\n        }\n        if (bitmen[level][i].bx > bitmen[level][i].xmax-bpic[p][0].length*bitmen[level][i].size){\n            bitmen[level][i].bx=bitmen[level][i].xmax-bpic[p][0].length*bitmen[level][i].size;\n            bitmen[level][i].direction *=-1;\n        }\n        \n        var attack=false;\n        var hurt=false;\n        for(var j=0;j<xsize;j++){\n            for(var k=0;k<ysize;k++){\n                \n                if(bpic[p][k][j]===1){\n                    \n                    //attack Stick Man    \n                    if ( isCollision(herox-10,heroy-10,20,60, bitmen[level][i].bx+j*bitmen[level][i].size, bitmen[level][i].by-ysize*bitmen[level][i].size+k*bitmen[level][i].size, bitmen[level][i].size,bitmen[level][i].size ) ){\n                        if(!attack){\n                            herohealth -= bitmen[level][i].damage;\n                            attack=true;\n                        }\n                    }\n                    \n                    //get kicked by Stick Man\n                    if ( herodirection===1 && kicking && isCollision(herox+20,heroy+10,1,1, bitmen[level][i].bx+j*bitmen[level][i].size, bitmen[level][i].by-ysize*bitmen[level][i].size+k*bitmen[level][i].size, bitmen[level][i].size,bitmen[level][i].size ) ){\n                        if(!hurt){\n                            bitmen[level][i].health -= herodamage;\n                            hurt=true;\n                        }\n                    } \n                    else if ( herodirection===2 && kicking && isCollision(herox-20,heroy+10,1,1, bitmen[level][i].bx+j*bitmen[level][i].size, bitmen[level][i].by-ysize*bitmen[level][i].size+k*bitmen[level][i].size, bitmen[level][i].size,bitmen[level][i].size ) ){\n                        if(!hurt){\n                            bitmen[level][i].health -= herodamage;\n                            hurt=true;\n                        }\n                    }\n                     \n                }\n                \n            }\n        }\n        \n     \n        \n        if (bitmen[level][i].health <=0){\n            bitmen[level].splice(i,1);\n        }\n        \n    }\n    \n    \n    \n    \n};\n\n//\n//MAIN DRAW LOOP\n//\nvar draw= function() {\n    \n    if(!started){\n        Splash();\n    }else if(instructs){\n        Instructions();\n    }else if(herolives <=0){\n        GameOver();\n        dead=true;\n        init=false;\n    }else{\n        \n        background(100, 100, 50);\n        if (!init){\n            initLevel();\n        }\n    \n        if(herohealth <=0 ){\n            herohealth=100;\n            herolives -=1;\n        \n            if(herolives > 0){\n                initLevel();\n            }\n            \n        }\n    \n        moveStickman();\n        movePlatforms();\n        moveBitmen();\n        checkExits(herox,heroy);\n        checkWalls(herox,heroy);\n        checkHealthUps();\n        checkOneUps();\n    \n        drawSigns();\n        drawHealthUps();\n        drawOneUps();\n        drawPlatforms();\n        drawLadders();\n        drawWalls();\n        drawExits();\n        drawBitmen();\n        drawStickman(herox,heroy,herostate,herodirection,heroaction);\n    \n        if (mydebug){\n            textSize(15);\n            fill(255, 255, 255);\n            text(\"K:\"+kicking+\" J:\"+jumping,300,370);\n            text(\"F:\"+falling+\" S:\"+standing,300,350);\n            text(\"R:\"+running+\" C:\"+climbing,300,330);\n            text(\"Health:\"+herohealth,300,310);\n    \n            text(herox,340,390);\n            text(heroy,370,390);\n        \n        }\n    \n        fill(0, 0, 0);\n        textSize(20);\n        text(\"Level:\"+level,310,20);\n        text(\"Health\",90,20);\n        fill(255, 0, 0);\n        rect(150,8,herohealth*1.5,10);\n        fill(0, 0, 0);\n        text(\"Lives:\"+herolives,310,40);\n    \n    }\n};\n\n//\n//KEYBOARD COMMAND HANDLER\n//\nvar keyPressed=function(){\n    idlecounter=5;\n    \n    if(!started && keyCode===32){\n        started=true;\n    }else if(!started && keyCode===SHIFT){\n        started=true;\n        instructs=true;\n    }else if(instructs && keyCode===32){\n        started=true;\n        instructs=false;\n        scrolly=0;\n    }else if(dead && keyCode===32){\n        started=true;\n        dead=false;\n        herolives=3;\n        herohealth=100;\n        level=0;\n    }else if(dead && keyCode===SHIFT){\n        started=true;\n        dead=false;\n        instructs=true;\n        herolives=3;\n        herohealth=100;\n        level=0;\n    }\n    \n    if (keyCode === LEFT){\n        //run left\n        herodirection=2;\n        running=true;\n        standing=false;\n        climbing=false;\n    }else if(keyCode === RIGHT){\n        //run right\n        herodirection=1;\n        running=true;\n        standing=false;\n        climbing=false;\n    }else if(keyCode === UP && isOnLadder(herox,heroy)){\n        //climb up\n        \n        herodirection=3;\n        running=false;\n        standing=false;\n        climbing=true;\n    }else if(keyCode === DOWN && isOnLadder(herox,heroy)){\n        \n        //climb down\n        herodirection=4;\n        running=false;\n        standing=false;\n        climbing=true;\n    }\n    \n    //kick\n    if(keyCode === 65 && !climbing && kickcounter <=0){\n        //heroaction=1;\n        if(herodirection ===0){\n            herodirection=lastdirection;\n        }\n        kicking= true;\n        standing=false;\n        running=false;\n        kickcounter=10;\n        \n    }else if(keyCode === 32 && isSupported(herox,heroy)!==-1){\n        //jump\n        if (jumpheight <=0 ){\n            jumping=true;\n            climbing=false;\n            standing=false;\n        }\n    }\n    \n};\n\n\n\n\n//\n//LEVEL DESIGNS\n//\nvar initLevel=function(){\n    if (level===0){\n        //************************\n        //LEVEL 0\n        //************************\n        herox=20;\n        heroy=320;\n        \n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n       plats[level][plats[level].length]=new Platform(0,290,200);\n       plats[level][plats[level].length]=new Platform(350,290,50);\n       plats[level][plats[level].length]=new Platform(300,190,100);\n       plats[level][plats[level].length]=new Platform(0,190,100);\n       \n        plats[level][plats[level].length]=new Platform(200,290,50);\n        plats[level][plats[level].length-1].vx=2; \n        plats[level][plats[level].length-1].xmax=350;\n        \n        plats[level][plats[level].length]=new Platform(250,190,50);\n        plats[level][plats[level].length-1].vy=-3; \n        plats[level][plats[level].length-1].ymin=90;\n        \n        plats[level][plats[level].length]=new Platform(200,90,50);\n        plats[level][plats[level].length-1].vy=2; \n        plats[level][plats[level].length-1].ymax=190;\n        \n        plats[level][plats[level].length]=new Platform(100,190,50);\n        plats[level][plats[level].length-1].vy=-4; \n        plats[level][plats[level].length-1].ymin=90;\n        plats[level][plats[level].length-1].vx=2; \n        plats[level][plats[level].length-1].xmax=200;\n        plats[level][plats[level].length]=new Platform(80,369,25);\n        //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(50,390,100);\n        ladders[level][ladders[level].length]=new Ladder(360,290,100); \n        ladders[level][ladders[level].length]=new Ladder(20,190,200);\n        \n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(5,0,1);\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(300,390,100,400,7,1,bitwarrior);\n        bitmen[level][bitmen[level].length]=new BitMan(0,220,0,400,7,1,bitbat);\n                \n        //walls\n        walls=[];\n        walls[level]=[];\n        walls[level][walls[level].length]=new Wall(80,390,20);\n        \n        //signs\n        signs=[];\n        signs[level]=[];\n        signs[level][signs[level].length]=new Sign(150,300,160,30,\"          TRESPASSERS\\nWILL BE SMASHED TO BITS\");\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        healthups[level][healthups[level].length]=new HealthUp(350,350,50);\n        \n        //oneups\n        oneups=[];\n        oneups[level]=[];\n        oneups[level][oneups[level].length]=new OneUp(300,350);\n                \n    }else if(level===1){\n        //************************\n        //LEVEL 1\n        //************************\n        herox=20;\n        heroy=320;\n        \n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,290,100);\n        plats[level][plats[level].length]=new Platform(100,290,50);\n        plats[level][plats[level].length-1].vx=4; \n        plats[level][plats[level].length-1].xmax=200;\n        plats[level][plats[level].length]=new Platform(300,290,50);\n        plats[level][plats[level].length-1].vx=-5; \n        plats[level][plats[level].length-1].xmin=200;\n        plats[level][plats[level].length]=new Platform(350,290,100);\n        plats[level][plats[level].length]=new Platform(350,190,100);\n        plats[level][plats[level].length]=new Platform(0,190,50);\n        plats[level][plats[level].length-1].vy=-2; \n        plats[level][plats[level].length-1].ymin=100;\n        plats[level][plats[level].length]=new Platform(50,190,50);\n        plats[level][plats[level].length-1].vx=5; \n        plats[level][plats[level].length-1].xmax=160;\n        plats[level][plats[level].length]=new Platform(300,190,50);\n        plats[level][plats[level].length-1].vx=-5; \n        plats[level][plats[level].length-1].xmin=200;\n        plats[level][plats[level].length]=new Platform(80,369,25);\n        \n        //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(50,390,100);\n        ladders[level][ladders[level].length]=new Ladder(360,290,100);\n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(0,0,2);\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(300,390,100,400,10,2,bitwarrior);\n        bitmen[level][bitmen[level].length]=new BitMan(0,220,0,400,7,1,bitbat);\n        bitmen[level][bitmen[level].length]=new BitMan(350,220,0,400,7,1,bitbat);\n        \n        //walls\n        walls=[];\n        walls[level]=[];\n        walls[level][walls[level].length]=new Wall(80,390,20);\n        \n        //signs\n        signs=[];\n        signs[level]=[];\n        signs[level][signs[level].length]=new Sign(100,50,250,30,\"SHORTER MEMBERS OF THE BIT KINGDOM\\nMAY NEED TO JUMP TO REACH THE EXIT\");\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        \n        //oneups\n        oneups=[];\n        oneups[level]=[];\n        \n        \n    }else if(level===2){\n        //************************\n        //LEVEL 2\n        //************************\n        herox=100;\n        heroy=320;\n        \n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,90,400);\n        plats[level][plats[level].length]=new Platform(50,190,400);\n        plats[level][plats[level].length]=new Platform(50,290,400);\n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(10,390,300);\n        ladders[level][ladders[level].length]=new Ladder(200,190,100);\n        ladders[level][ladders[level].length]=new Ladder(100,290,100);\n        ladders[level][ladders[level].length]=new Ladder(230,390,100);\n        ladders[level][ladders[level].length]=new Ladder(340,390,100);\n        \n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(330,320,3);\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(350,190,75,400,10,2,bitwarrior);\n        bitmen[level][bitmen[level].length]=new BitMan(75,290,75,400,10,2,bitwarrior);\n        //walls\n        walls=[];\n        walls[level]=[];\n        \n        walls[level][walls[level].length]=new Wall(50,290,199);\n        walls[level][walls[level].length]=new Wall(170,390,99);\n        walls[level][walls[level].length]=new Wall(275,390,99);\n        \n        //signs\n        signs=[];\n        signs[level]=[];\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        \n        //oneups\n        oneups=[];\n        oneups[level]=[];\n        \n    }else if(level===3){\n        //************************\n        //LEVEL 3\n        //************************\n        herox=30;\n        heroy=320;\n        \n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,290,100);\n        plats[level][plats[level].length]=new Platform(300,290,100);\n        plats[level][plats[level].length]=new Platform(150,290,50);\n        plats[level][plats[level].length-1].vx=2; \n        plats[level][plats[level].length-1].xmax=250;\n        plats[level][plats[level].length]=new Platform(0,190,400);\n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(10,390,100);\n        ladders[level][ladders[level].length]=new Ladder(360,290,100);\n        ladders[level][ladders[level].length]=new Ladder(10,190,200);\n        \n        \n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(0,30,4);\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(80,390,75,400,10,0,bitlava(32,1));\n        bitmen[level][bitmen[level].length]=new BitMan(0,190,0,400,7,1,bitwarrior);\n        bitmen[level][bitmen[level].length-1].damage=0.1*15;\n                \n        //walls\n        walls=[];\n        walls[level]=[];\n        \n        //signs\n        signs=[];\n        signs[level]=[];\n        signs[level][signs[level].length]=new Sign(50,100,120,30,\"NONE SHALL PASS\\nBITSY THE BOXER\");\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        \n        //oneups\n        oneups=[];\n        oneups[level]=[];\n        \n    }else if(level===4){\n        //************************\n        //LEVEL 4\n        //************************\n        herox=30;\n        heroy=335;\n        \n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,380,100);\n        plats[level][plats[level].length-1].vy=-2;\n        plats[level][plats[level].length-1].ymin=80;\n        plats[level][plats[level].length]=new Platform(100,90,300);\n        plats[level][plats[level].length]=new Platform(250,190,150);\n         \n        \n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(150,390,300);\n        ladders[level][ladders[level].length]=new Ladder(250,390,200);\n        ladders[level][ladders[level].length]=new Ladder(350,290,100);\n                \n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(330,230,5);\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(0,300,0,50,10,0,bitlava(5,1));\n        bitmen[level][bitmen[level].length]=new BitMan(50,200,50,100,10,0,bitlava(5,1));\n        bitmen[level][bitmen[level].length]=new BitMan(0,100,0,50,10,0,bitlava(5,1));\n        \n        bitmen[level][bitmen[level].length]=new BitMan(125,90,125,400,10,2,bitlava(1,9));\n        bitmen[level][bitmen[level].length]=new BitMan(400,188,125,400,10,2,bitlava(1,2));\n        bitmen[level][bitmen[level].length]=new BitMan(400,138,125,400,10,2,bitlava(1,2));\n        bitmen[level][bitmen[level].length]=new BitMan(400,240,125,400,5,1,bitbat);\n        bitmen[level][bitmen[level].length]=new BitMan(400,390,125,400,10,1,bitwarrior);\n        \n        //walls\n        walls=[];\n        walls[level]=[];\n        walls[level][walls[level].length]=new Wall(100,390,299);\n        walls[level][walls[level].length]=new Wall(200,309,68);\n        walls[level][walls[level].length]=new Wall(200,215,24);\n        walls[level][walls[level].length]=new Wall(200,165,24);\n        walls[level][walls[level].length]=new Wall(200,115,24);\n        \n        //signs\n        signs=[];\n        signs[level]=[];\n        \n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        \n        //oneups\n        oneups=[];\n        oneups[level]=[];\n        \n    }else if(level===5){\n\n        //************************\n        //LEVEL 5\n        //************************\n\n        herox=20;\n        heroy=335;\n\n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,190,400);\n        plats[level][plats[level].length]=new Platform(0,375,50);\n        plats[level][plats[level].length-1].vx=1;\n        plats[level][plats[level].length-1].xmax=350;\n        plats[level][plats[level].length]=new Platform(50,340,50);\n        plats[level][plats[level].length-1].vx=1;\n        plats[level][plats[level].length-1].xmax=400;\n        plats[level][plats[level].length]=new Platform(0,305,50);\n        plats[level][plats[level].length-1].vx=1;\n        plats[level][plats[level].length-1].xmax=350;\n        \n\n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(360,390,200);\n        ladders[level][ladders[level].length]=new Ladder(20,190,190);\n\n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(0,30,6);\n\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(100,390,100,300,10,0,bitlava(20,1));\n        bitmen[level][bitmen[level].length]=new BitMan(0,275,0,100,10,0,bitlava(10,4));\n        bitmen[level][bitmen[level].length]=new BitMan(50,295,50,100,10,0,bitlava(5,2));\n        bitmen[level][bitmen[level].length]=new BitMan(150,370,150,170,10,0,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(170,335,170,190,10,0,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(250,295,250,270,10,0,bitlava(2,6));\n        bitmen[level][bitmen[level].length]=new BitMan(310,370,310,330,10,0,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(330,335,330,350,10,0,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(0,225,0,400,7,2,bitbat);\n        \n        bitmen[level][bitmen[level].length]=new BitMan(0,190,0,400,10,2,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(0,190,0,400,10,2,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(100,190,0,400,10,2,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(200,190,0,400,10,2,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(300,190,0,400,10,2,bitlava(2,2));\n        bitmen[level][bitmen[level].length]=new BitMan(0,190,0,400,10,1,bitlava(2,2));\n\n        //walls\n        walls=[];\n        walls[level]=[];\n\n        //signs\n        signs=[];\n        signs[level]=[];\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n\n        //oneups\n        oneups=[];\n        oneups[level]=[];\n\n    }else if(level===6){\n\n        //************************\n        //LEVEL 6\n        //************************\n\n        herox=10;\n        heroy=100;\n\n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,190,50);\n        plats[level][plats[level].length]=new Platform(0,90,400);\n        \n        \n\n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(0,390,200);\n        ladders[level][ladders[level].length]=new Ladder(370,390,300);\n\n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(30,30,7);\n\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(0,390,0,400,30,1,octibit);\n        bitmen[level][bitmen[level].length]=new BitMan(100,390,0,400,7,1,octibit);\n        bitmen[level][bitmen[level].length]=new BitMan(200,390,0,400,7,1,octibit);\n\n      \n        \n        \n        //walls\n        walls=[];\n        walls[level]=[];\n\n        //signs\n        signs=[];\n        signs[level]=[];\n        signs[level][signs[level].length]=new Sign(150,100,120,30,\"NONE SHALL PASS\\nTHE OCTABITS\");\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        healthups[level][healthups[level].length]=new HealthUp(150,50,100);\n        \n\n        //oneups\n        oneups=[];\n        oneups[level]=[];\n\n    }else if(level===7){\n\n        //************************\n        //LEVEL 7\n        //************************\n\n        herox=10;\n        heroy=330;\n\n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(0,290,400);\n        plats[level][plats[level].length]=new Platform(0,190,400);\n        plats[level][plats[level].length]=new Platform(0,90,400);\n        \n\n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(85,390,200);\n        ladders[level][ladders[level].length]=new Ladder(185,390,200);\n        ladders[level][ladders[level].length]=new Ladder(285,390,300);\n       \n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(30,30,8);\n\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(0,290,0,100,30,1.5,bitlava(1,3));\n        bitmen[level][bitmen[level].length]=new BitMan(200,290,100,200,30,1.5,bitlava(1,3));\n        bitmen[level][bitmen[level].length]=new BitMan(200,290,200,300,30,1.5,bitlava(1,3));\n        bitmen[level][bitmen[level].length]=new BitMan(400,290,300,400,30,1.5,bitlava(1,3));\n        bitmen[level][bitmen[level].length]=new BitMan(280,190,280,400,30,1,bitlava(1,3));\n        bitmen[level][bitmen[level].length]=new BitMan(180,320,180,400,7,1,bitbat);\n        bitmen[level][bitmen[level].length]=new BitMan(280,120,0,250,7,2,bitbat);\n        \n        //walls\n        walls=[];\n        walls[level]=[];\n        walls[level][walls[level].length]=new Wall(150,390,99);\n        walls[level][walls[level].length]=new Wall(250,190,99);\n\n        //signs\n        signs=[];\n        signs[level]=[];\n                \n        //healthups\n        healthups=[];\n        healthups[level]=[];    \n\n        //oneups\n        oneups=[];\n        oneups[level]=[];\n\n    }else if(level===8){\n        //************************\n        //UNDER CONSTRUCTION LEVEL\n        //************************\n        herox=200;\n        heroy=200;\n        \n        //platforms\n        plats=[];\n        plats[level]=[];\n        plats[level][plats[level].length]=new Platform(0,390,400);\n        plats[level][plats[level].length]=new Platform(104,290,110);\n        \n         //ladders\n        ladders=[];\n        ladders[level]=[];\n        ladders[level][ladders[level].length]=new Ladder(10,390,400);\n        ladders[level][ladders[level].length]=new Ladder(104,390,100);\n        \n        //exit\n        exits=[];\n        exits[level]=[];\n        exits[level][exits[level].length]=new LevelExit(0,30,0);\n        //bitmen\n        bitmen=[];\n        bitmen[level]=[];\n        bitmen[level][bitmen[level].length]=new BitMan(160,390,160,400,10,0,bitlava(24,5));\n        \n        //walls\n        walls=[];\n        walls[level]=[];\n        walls[level][walls[level].length]=new Wall(134,390,99);\n        \n        //signs\n        signs=[];\n        signs[level]=[];\n        signs[level][signs[level].length]=new Sign(50,100,300,90,\"BIT KING\'S KINGDOM IS STILL UNDER CONSTRUCTION\\nSO THIS IS THE LAST LEVEL FOR NOW\\n\\nHOPE YOU ENJOYED IT\\n\\nCHECK BACK SOON FOR MORE LEVELS\");\n        \n        //healthups\n        healthups=[];\n        healthups[level]=[];\n        \n        //oneups\n        oneups=[];\n        oneups[level]=[];\n        \n    }\n    \n    init=true;\n};";
window.liveEditor = new LiveEditor({
                el: $("#sample-live-editor"),
                code: code,
                width: 400,
                height: 400,
                editorHeight: "80%",
                autoFocus: true,
                workersDir: "../../build/workers/",
                externalsDir: "../../build/external/",
                imagesDir: "../../build/images/",
                soundsDir: "../../sounds/",
                execFile: outputUrl,
                jshintFile: "../../build/external/jshint/jshint.js",
                newErrorExperience: true,
            });
            liveEditor.editor.on("change", function() {
                window.localStorage["test-code"] = liveEditor.editor.text();
            });
            ScratchpadAutosuggest.init(liveEditor.editor.editor);
            </script>
        </body>
        </html>
        