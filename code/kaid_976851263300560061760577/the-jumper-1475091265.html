<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The Jumper</title>
    <link rel="stylesheet" href="../../build/css/live-editor.core_deps.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.audio.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.tooltips.css"/>
    <link rel="stylesheet" href="../../build/css/live-editor.ui.css"/>
<style>
        body {
            padding: 20px;
        }
        h1 {
            padding: 0;
            margin: 0 0 20px 0;
        }
        #sample-live-editor {
            padding: 0;
        }
    </style>
</head>
<body>
    <h1>The Jumper</h1>
    <div id="sample-live-editor"></div>
    <script src="../../build/js/live-editor.core_deps.js"></script>
    <script src="../../build/js/live-editor.editor_ace_deps.js"></script>
    <script src="../../build/js/live-editor.audio.js"></script>
    <script src="../../build/js/live-editor.shared.js"></script>
    <script src="../../build/js/live-editor.tooltips.js"></script>
    <script src="../../build/js/live-editor.ui.js"></script>
    <script src="../../build/js/live-editor.editor_ace.js"></script>
    <script>
    var outputUrl = "../output.html";
var code = "/**The Jumper by David Elijah de Siqueira Campos McLaughlin\nOriginal size(400, 400);\nOriginally Created on 2013-03-19T14:18:28Z by kaid_976851263300560061760577\nLast Edited: 2013-03-19T14:18:28Z\nVotes/Spinoffs: 7/3\nOriginally Created: 2013-03-24T00:15:44Z from origin 1470488769 with similarity of 0.9945647983964228\nOriginal Link: https://www.khanacademy.org/computer-programming/the-jumper/1475091265\nRetrieved On: 07-Nov-2022 (17:06:40.627035)**/\
";

code = code + "\nnoStroke();\n\nframeRate(30);\n//Post your high score in the tips/feedback section.\n//This is Virus\'s game I just entered it for him.\n\n//Updates: I will make an invincibility power-up!\n//You have a 1-Up at every little while and a 4-Up at even longer periods of time!\n/**High scores**/\n//difficulty 3\n\n//13050 -Bobby DeMoss\n\n//10882 -Bobby DeMoss\n\n//10757 -Bobby DeMoss\n\n//8830 -Bobby DeMoss\n\n//8635 -¬ª‚ò¢«§ABRI‚Ç¨L‚ò¢¬ª \n\n//7347 -Bobby DeMoss\n\n//7111 -Bobby DeMoss\n\n\n//difficulty 2\n\n//23119 -Bobby DeMoss\n\n\n//difficulty 1\n\n//28449 -Zowwie99\n\n//25965 -Derek l.\n\n//12249 -Bobby DeMoss\n\n\n//difficulty 0\n\n//24638 -Bobby DeMoss\n\n//16509 -Zowwie99\n\n//6294 -üòÇ √ß…ñ—è√•ƒù√∏·æî13‚ô•Èæô\n\n//0=Easy, 1=Normal, 2=Hard, 3=Experts only\n\nvar difficulty=1\n;\n\n\n\n\n//More changeable features:\n\n//If true, score will return to 0 after death, and score will be printed to ln. \n\nvar printScore=true;\n\n//If true, bonus power will be represented in bar form rather than icons. UNOPERATIONAL\n\nvar bonusBar=true;\n\n//If true, health will be represented in bar form rather than icons. UNOPERATIONAL\n\nvar healthBar=false;\n\n\n\n//Do not edit. If you edit this array, you are not allowed to post high scores.\n\n//Array in this arrangement:\n\n//Level, monster spawn rate, daze time, proptime, rockettime\n\nvar diffArray=[[7,300,20,1,2],[6,250,30,2,3],[3,200,35,2,3],[2,150,100,4,4]];\n\n\n\nvar charX= 305;\n\nvar charY= 72;\n\nvar brace;\n\nvar mouthX= charX +15;\n\nvar eyeX= charX + 10;\n\nvar feetX = charX;\n\nvar feetY = charY +20;\n\nvar times=0;\n\nvar facingRight = true;\n\n\n\nvar loopCount=0;\n\nvar loopCount10=0;\n\n\n\nvar jumping = false;\n\nvar falling = true;\n\nvar fallSpeed=2;\n\nvar velocity=8;\n\nvar maxVelocity = 15;\n\nvar jumpSpeed;\n\nvar jumpHeight;\n\nvar maxJump = 200;\n\nvar goLeft;\n\nvar goRight;\n\nvar powerUp;\n\nvar powerLeft=0;\n\nvar spawn=\"___\";\n\nvar star=getImage(\"cute/Star\");\n\nvar heart=getImage(\"cute/Heart\");\n\nvar scoreText=createFont(\"comic sans ms\",20);\n\nvar normText=createFont(\"futura\",12);\n\nvar state=0;\n\nvar livesO=diffArray[difficulty][0];\n\nvar lives=livesO;\n\nvar scoreShown=false;\n\n\n\nvar rocketTime = 100;\n\nvar rocketSpeed = 50;\n\nvar rbonusGain = diffArray[difficulty][4];\n\nvar propTime = 400;\n\nvar propSpeed = 5;\n\nvar propDec = 2;\n\nvar pbonusGain = diffArray[difficulty][3];\n\nvar springSpeed = 25;\n\nvar springInc = 1.5;\n\nvar monsterChance = diffArray[difficulty][1];\n\nvar dazeTime = 1;\n\nvar sheildTime = 300;\n\nvar monsterDaze=diffArray[difficulty][2];\n\n\n\n\n\nvar bars={\n\n    x:[0,180,random(50,350),random(50,350),random(50,350),random(50,350)],y:[0,280,random(0,100),random(-50,50),random(-50,0),random(-100,-30)],type:[0,0,0,0,0],used:[0,0,0,0,0],Rmax:[],veloc:[]\n\n};\n\n\n\nvar monsters={\n\n    x:[0,0,0],y:[0,0,0],type:[0,0,0],veloc:[0,0,0],step:[0,0,0]\n\n};\n\n\n\nvar started = false;\n\nvar score= 0;\n\nvar dead=false;\n\nvar dazed=false;\n\nvar flashing=false;\n\nvar flash=5;\n\n\n\n\n\nvar count = function(){\n\n    \n\n    if(loopCount === 1)\n\n    {\n\n   loopCount = 0;\n\n    }else{\n\n        loopCount++;\n\n    }\n\n    if(loopCount10 === 4)\n\n    {\n\n   loopCount10 = 0;\n\n    }else{\n\n        loopCount10++;\n\n    }\n\n};\n\n\n\nvar start = function(){\n\n    state=1;\n\n    charX= 180;\n\n    charY= 72;\n\n    powerUp=2;\n\n    powerLeft=propTime/pbonusGain/2;\n\n    dazeTime=0;\n\n    lives=livesO;\n\n    flashing=false;\n\n    flash=0;\n\n};\n\n\n\nvar graph = function(){\n\n    stroke(143);\n\n    strokeWeight(2);\n\n    for(var i=0;i<400;i+=20){\n\n        line(i,0,i,400);\n\n        line(0,i,400,i);\n\n    }\n\n    \n\n};\n\n\n\nvar restart = function(){\nscore = 0;\ncharX= 194;\ncharY= 72;\nbars={\nx:[random(50,350),180,random(50,350),random(50,350),random(50,350)],y:[random(300,350),250,random(100,150),random(0,100),random(-50,0)],type:[],used:[],Rmax:[],veloc:[]\n};\nmonsters={\nx:[0,0,0],y:[0,0,0],type:[0,0,0],veloc:[0,0,0],step:[0,0,0]\n\n};\n\n falling= true;\n\n jumping=false;\n\n times++;\n\n dead=false;\n\n dazed=false;\n\n powerUp=3;\n\n powerLeft=propTime/pbonusGain/2;\n\n dazeTime=0;\n\n lives=livesO;\n\n scoreShown=false;\n\n\n\n};\n\n\n\nvar makeButton = function(x,y,label,value){\nvar buttonL=label.length*8+12;\nfill(214, 204, 88);\nif(mouseX>x&&mouseX<x+buttonL&&mouseY>y&&mouseY<y+30){\nfill(143, 138, 36);\nif(mouseIsPressed){\n\n         value(label);\n\n        }\n\n    }\n\n    rect(x,y,buttonL,30,20);\n\n    fill(0, 0, 0);\n\n    textSize(12);\n\n    text(label,x+10,y+22);\n\n};\n\n\n\nvar res = function(){\nstroke(255, 0, 0);\nstrokeWeight(2);\nfill(0);\nrect(130,180,100,50);\nif(times>2){\n\n        rect(100,100,160,70);\n\n        fill(255, 0, 0);\n\n        text(\"I see you have played this\\nmultiple times, please vote\\nthis and the original\\nprogram up :)\",108,134-20);\n\n        \n\n    }\n\n\n\n    fill(255, 0, 0);\n\n    text(\"RESTART?\",150,200);\n\n    text(\"(press enter)\",145,220);\n\n    if (printScore){\n\n        if (scoreShown===false){\n\n            println(\"Your score: \"+round(score));\n\n            scoreShown=true;\n\n        }\n\n        score=0;\n\n    }\n\n    if (keyIsPressed){\n\n        if (keyCode===ENTER){\n\n            \n\n        }else{\n\n            powerLeft=0;\n\n            powerUp=0;\n\n        }\n\n    }else{\n\n        powerLeft=0;\n\n        powerUp=0;\n\n    }\n\n};\n\n\n\nvar spawnMonsters = function(){\n\n    if(round(random(0,monsterChance))<5){\n\n        monsters.type.length++;\n\n        monsters.type[monsters.type.length-1]=round(random(1,2));\n\n         if(monsters.type[monsters.type.length-1]===1){\n\n        \n\n        spawn=\"00\";\n\n        monsters.x.length++;    \n\n        monsters.x[monsters.type.length-1]=random(50,350);\n\n        monsters.y.length++;\n\n        monsters.y[monsters.type.length-1]=-40;\n\n        monsters.veloc.length++;\n\n        monsters.veloc[monsters.type.length-1]=4;\n\n        }else if(monsters.type[monsters.type.length-1]===2){\n\n        \n\n        \n\n        if(bars.y[bars.y.length-1]<10){\n\n        monsters.x.length++;    \n\n        monsters.x[monsters.type.length-1]=bars.x[bars.x.length-1];\n\n        monsters.y.length++;\n\n        monsters.y[monsters.type.length-1]=bars.y[bars.y.length-1]-40; \n\n        monsters.veloc.length++;\n\n        monsters.veloc[monsters.type.length-1]=0;\n\n        monsters.step.length++;\n\n        monsters.step[monsters.type.length-1]=1;\n\n        }\n\n        }  \n\n    }   \n\n};\n\n\n//this is the variable for collision on mine\nvar getDamage= function(){\n\n    \n\n    //if(powerUp !== 1){\n\n        \n\n    for(var i=monsters.x.length-3;i<monsters.x.length;i++){\n\n    \n\n    if(monsters.type[i]===1){\n\n        \n\n      if(charX>monsters.x[i]-20&&charX<monsters.x[i]+50&&charY>monsters.y[i]-20&&charY<monsters.y[i]+60){\n\n          dazed=true;\n\n          dazeTime=monsterDaze;\n\n          if (powerUp!==2) {\n\n            lives-=1;\n\n          }else{\n\n              powerLeft=0;\n\n              dazeTime/=2;\n\n              if (difficulty===3){\n\n                  dazeTime=20;\n\n              }\n\n          }\n\n          monsters.type[i]=0;\n\n          monsters.x[i]=0;\n\n          monsters.y[i]=0;\n\n          flashing=true;\n\n          flash=20;\n\n      } \n\n    }else if(monsters.type[i]===2){\n\n        \n\n        if(charX>monsters.x[i]-30&&charX<monsters.x[i]+70&&charY>monsters.y[i]-30&&charY<monsters.y[i]+60){\n\n          dazed=true;\n\n          dazeTime=monsterDaze+10;\n\n          if (powerUp!==2){\n\n              if (dazed===false){\n\n                lives-=1;\n\n              }\n\n          } else {\n\n              powerLeft=0;\n\n              dazeTime/=2;\n\n              if (difficulty===3){\n\n                  dazeTime=30;\n\n              }\n\n          }\n\n          monsters.type[i]=0;\n\n          monsters.x[i]=0;\n\n          monsters.y[i]=0;\n\n          flashing=true;\n\n          flash=20;\n\n      } \n\n    }\n\n    \n\n    \n\n    }\n\n    //}\n\n    \n\n    \n\n};\n\n\n\nvar drawChar = function(){\n\n    \n\n    if (flash>0){\n\n        flashing=true;\n\n    }\n\n    \n\n    if (flashing===true){\n\n        flash-=1;\n\n        if (flash<=0){\n\n            flashing=false;\n\n        }\n\n    }\n\n    \n\n    dazeTime-=1;\n\n    if (dazeTime<0){\n\n        dazeTime=0;\n\n    }\n\n    if (dazeTime>0){\n\n        dazed=true;\n\n    }else{\n\n        dazed=false;\n\n    }\n\n    for(var h=0;h<lives;h+=1){\n\n        image(heart, 375-h*25, -8, 25, 35);\n\n    }\n\n    if (powerUp===2) {\n\n        noFill();\n\n        stroke(0, 0, 0);\n\n        rect(100, 5, 100, 5);\n\n        fill(255, 0, 0);\n\n        noStroke();\n\n        rect(100, 5, powerLeft/propTime*100, 5);\n\n    }\n\n    if (powerUp===3) {\n\n        noFill();\n\n        stroke(0, 0, 0);\n\n        rect(100, 5, 100, 5);\n\n        fill(100, 100, 100);\n\n        noStroke();\n\n        rect(100, 5, powerLeft/rocketTime*100, 5);\n\n    }\n\n    \n\n       stroke(0, 0, 0);\n\n   strokeWeight(2);\n\n    if(facingRight){\n\n        mouthX= charX +33;\n\n        eyeX= charX + 7;\n\n    }else{\n\n        mouthX= charX-33;\n\n        eyeX= charX -15;\n\n    }\n\n\n\n    var drawChar=false;\n\n    if (flashing===false){\n\n        drawChar=true;\n\n    }else if(flash/2===round(flash/2)){\n\n        drawChar=true;\n\n    }\n\n\n\n    if (drawChar){\n\n    //head\n\n    fill(127, 196, 37);\n\n    ellipse(charX-0.5,charY,41,40);\n\n    //body\n\n    rect(charX-21,charY+-3,41,38);\n\n    noStroke();\n\n    rect(charX-19,charY-4,38,3);\n\n    //feet\n\n    var sole;\n\n    if(brace>0){\n\n        sole=charY+30;\n\n    }else{\n\n        sole=charY+40;\n\n    }\n\n   stroke(0, 0, 0);\n\n   strokeWeight(2);\n\n   line(charX+-15,sole,charX+-15,charY+34);\n\n   line(charX+-5,sole,charX-5,charY+34);\n\n   line(charX+5,sole,charX+5,charY+34);\n\n   line(charX+15,sole,charX+15,charY+34);\n\n   if(facingRight){\n\n       line(charX+-15,sole,charX+-10,charY+41);\n\n       line(charX-5,sole,charX,charY+41); \n\n       line(charX+5,sole,charX+10,charY+41);\n\n       line(charX+15,sole,charX+20,charY+41);  \n\n   }else{\n\n       line(charX+-20,sole,charX+-15,charY+41);\n\n       line(charX-10,sole,charX-5,charY+41); \n\n       line(charX,sole,charX+5,charY+41);\n\n       line(charX+10,sole,charX+15,charY+41);\n\n   }\n\n    //mouth\n\n    noStroke();\n\n    triangle(mouthX,charY-2,mouthX,charY+13,charX,charY+5);\n\n    stroke(0, 0, 0);\n\n    strokeWeight(1);\n\n    if(facingRight){\n\n        line(mouthX,charY-2,charX+20,charY+1);\n\n        line(mouthX,charY+11,charX+20,charY+10);\n\n    }else{\n\n        line(mouthX,charY-2,charX-20,charY+1);\n\n        line(mouthX,charY+11,charX-20,charY+10);\n\n    }\n\n    ellipse(mouthX,charY+5,10,15);\n\n    //stripes\n\n    fill(44, 135, 8);\n\n    rect(charX-21,charY+30,40,5);\n\n    rect(charX-21,charY+25,40,5);\n\n    rect(charX-21,charY+20,40,5);\n\n    noStroke();\n\n    //eyes\n\n    fill(3, 2, 2);\n\n    ellipse(eyeX, charY-3, 4,5);\n\n    ellipse(eyeX+6, charY-3, 4,5);\n\n    \n\n    }\n\n    \n\n    //fill(255, 0, 0);\n\n    //rect(feetX, feetY, 40,5);\n\n    if(powerUp===2){\n\n    noStroke();\n\n        pushMatrix();\n\n \n\n    \n\n    fill(255, 0, 0);\n\n    arc(charX,charY-10, 35, 30, -180, 2);\n\n    fill(255, 221, 0);\n\n    arc(charX,charY-10, 30, 35, -140, -110);\n\n    arc(charX,charY-10, 30, 35, -70, -40);\n\n    fill(148, 142, 142);\n\n    translate(charX,charY-25);\n\n    if(powerLeft%4===0){\n\n        rotate(-10);\n\n    }else if(powerLeft%3===0){\n\n        rotate(0);\n\n    }else if(powerLeft%2===0){\n\n        rotate(10);\n\n    }else{\n\n        rotate(0);\n\n    }\n\n    ellipse(0,0,35,12);\n\n    noFill();\n\n    strokeWeight(1);\n\n    stroke(0, 0, 0);\n\n    ellipse(0,0,30,8);\n\n    ellipse(0,0,25,6);\n\n    ellipse(0,0,20,3);\n\n    popMatrix();\n\n    }\n\n    if(powerUp===3){\n\n        \n\n        var jp,jps;\n\n        if(facingRight){\n\n            jp=charX-31;\n\n            jps=charX-25;\n\n        }else{\n\n           jp=charX+30;\n\n           jps=charX+20;\n\n        }\n\n        stroke(0, 0, 0);\n\n        strokeWeight(2);\n\n        fill(138, 128, 128);\n\n        rect(jps,charY+5,3,5);\n\n        rect(jps+1,charY+20,1,5);\n\n        arc(jp,charY+30,15,80,-179,0);\n\n        line(jp-8,charY+30,jp+7,charY+30);\n\n        fill(255, 255, 0);\n\n        arc(jp,charY+-1,10,18,-179,0);\n\n        stroke(0, 0, 0);\n\n        line(jp-5,charY+25,jp+4,charY+25);\n\n        line(jp-4,charY+22,jp+3,charY+22);\n\n        if(powerLeft>10&&keyIsPressed&&keyCode===UP){\n\n        stroke(163, 16, 16);\n\n        line(jp+3,charY+32,random(jp-5,jp+2),charY+50);\n\n        line(jp-3,charY+32,random(jp+5,jp+2),charY+50);\n\n        line(jp-1,charY+32,random(jp-8,jp-4),charY+50);\n\n        line(jp,charY+32,random(jp+4,jp+8),charY+50);\n\n        line(jp,charY+32,random(jp-8,jp-4),charY+50);\n\n        line(jp+5,charY+32,random(jp+7,jp+10),charY+50);\n\n        line(jp-5,charY+32,random(jp-10,jp-7),charY+50);\n\n        line(jp+4,charY+32,random(jp+4,jp+10),charY+50);\n\n        line(jp-4,charY+32,random(jp-10,jp-4),charY+50);\n\n        line(jp+4,charY+32,random(jp-2,jp+2),charY+50);\n\n        line(jp-4,charY+32,random(jp-2,jp+2),charY+50);\n\n        }\n\n        \n\n    }\n\n            \n\n    powerLeft--;\n\n    if(powerLeft<0){\n\n        powerUp=0;\n\n    }\n\n    if(dazed){\n\n        noFill();\n\n        stroke(0, 0, 0);\n\n        image(star,charX+8,charY-37,20,30);\n\n        ellipse(charX,charY-20,40,15);\n\n        image(star,charX-20,charY-45,20,30);\n\n        image(star,charX-10,charY-30,20,30);\n\n    }\n\n    \n\n};\n\n\n\nvar drawMonsters = function(){\n\n    for(var i=monsters.x.length-3;i<monsters.x.length;i++){\n\n    if(monsters.x[i]){\n\n    if(monsters.type[i]===1){\n\n    var m;    \n\n        fill(50, 81, 235);\n\n        noStroke();\n\n        rect(monsters.x[i],monsters.y[i]-5,30,31,5);\n\n        arc(monsters.x[i]+14.5,monsters.y[i],30,20,-180,0);\n\n        rect(monsters.x[i]+5,monsters.y[i]+25,5,5,5);\n\n        rect(monsters.x[i]+20,monsters.y[i]+25,5,5,5);\n\n        fill(209, 193, 12);\n\n        stroke(0, 0, 0);\n\n        strokeWeight(2);\n\n        if(monsters.veloc[i]<0){\n\n        ellipse(monsters.x[i]+10,monsters.y[i],10,10);\n\n        ellipse(monsters.x[i]+10,monsters.y[i],3,3);\n\n        for(m=0;m<3;m++){\n\n            fill(230, 223, 223);\n\n            strokeWeight(1);\n\n            arc(monsters.x[i]+5*m+6,monsters.y[i]+10,5,10,0,180);\n\n        }\n\n        }else{\n\n        ellipse(monsters.x[i]+20,monsters.y[i],10,10);\n\n        ellipse(monsters.x[i]+20,monsters.y[i],3,3);\n\n        for(m=0;m<3;m++){\n\n            fill(230, 223, 223);\n\n            strokeWeight(1);\n\n            arc(monsters.x[i]+5*m+15,monsters.y[i]+10,5,10,0,180);\n\n        }\n\n        }\n\n    monsters.x[i]+=monsters.veloc[i];\n\n    \n\n    if(monsters.x[i]>350){\n\n        monsters.veloc[i]=-6;\n\n        \n\n    }\n\n    if(monsters.x[i]<50){\n\n        monsters.veloc[i]=6;\n\n    }\n\n        \n\n    }else if(monsters.type[i]===2){\n\n        fill(255, 0, 0);\n\n        noStroke();\n\n        rect(monsters.x[i]+5,monsters.y[i],40,20,10);\n\n        rect(monsters.x[i],monsters.y[i]+10,50,20,10);\n\n        rect(monsters.x[i]+10,monsters.y[i]+25,5,10,6);\n\n        rect(monsters.x[i]+35,monsters.y[i]+25,5,10,6);\n\n        rect(monsters.x[i]+5,monsters.y[i]+33,10,5,6);\n\n        rect(monsters.x[i]+35,monsters.y[i]+33,10,5,6);\n\n        fill(0, 0, 0);\n\n        arc(monsters.x[i]+25,monsters.y[i]+25,30,10,-180,0);\n\n        stroke(0, 0, 0);\n\n        strokeWeight(1);\n\n        fill(0, 0, 0);\n\n        ellipse(monsters.x[i]+15,monsters.y[i]+10,5,5);\n\n        ellipse(monsters.x[i]+35,monsters.y[i]+10,5,5);\n\n        strokeWeight(2);\n\n        line(monsters.x[i]+25,monsters.y[i]+10,monsters.x[i]+10,monsters.y[i]+5);\n\n        line(monsters.x[i]+25,monsters.y[i]+10,monsters.x[i]+40,monsters.y[i]+5);\n\n        \n\n        if(monsters.step[i]){\n\n            monsters.veloc[i]--;\n\n        }else{\n\n            monsters.veloc[i]++;\n\n        }\n\n        if(monsters.veloc[i]<-6){\n\n            monsters.step[i]=0;\n\n        }\n\n        if(monsters.step[i]===1&&monsters.veloc===0){\n\n            monsters.veloc[i]=-6;\n\n        }\n\n        if(monsters.veloc[i]>6){\n\n            monsters.step[i]=1;\n\n        }\n\n        monsters.y[i]+=monsters.veloc[i];\n\n        \n\n    }\n\n    }\n\n    }\n\n};\n\n\n\nvar powers = function(){\n\n    \n\n    //propeller\n\n    if(powerUp===2){\n\n        jumpSpeed=propSpeed;\n\n        jumping=true;\n\n        if (keyIsPressed&&keyCode===DOWN){\n\n            jumpSpeed=propSpeed/propDec;\n\n            jumping=true;\n\n            powerLeft+=1/propDec;\n\n        }\n\n    }\n\n    //jet pack\n\n    if(powerUp===3){\n\n        if (keyIsPressed&&keyCode===UP&&dazed===false){\n\n            //jumpSpeed=rocketSpeed;\n\n            jumpSpeed+=2;\n\n            if (jumpSpeed>rocketSpeed){\n\n                jumpSpeed=rocketSpeed;\n\n            }\n\n            jumping=true;\n\n            if (powerLeft<8) {\n\n                var ranmax=random(rocketSpeed/2+2, rocketSpeed-1);\n\n                jumpSpeed+=1;\n\n                if (jumpSpeed>ranmax){\n\n                    jumpSpeed=ranmax;\n\n                }\n\n            }\n\n        } else {\n\n            powerLeft+=1;\n\n        }\n\n    }\n\n    \n\n};\n\n\n\n\n\nvar drawSteps = function(n){\n\n    \n\n    \n\n    if(bars.type[n]===3||bars.type[n]===4||bars.type[n]===5){\n\n    stroke(120, 112, 112);\n\n    strokeWeight(3);\n\n    if(!bars.used[n]){\n\n    line(bars.x[n]+20, bars.y[n]-2,bars.x[n]+30, bars.y[n]-4);\n\n    line(bars.x[n]+20, bars.y[n]-6,bars.x[n]+30, bars.y[n]-4);\n\n     line(bars.x[n]+20, bars.y[n]-6,bars.x[n]+30, bars.y[n]-8);\n\n      line(bars.x[n]+20, bars.y[n]-10,bars.x[n]+30, bars.y[n]-8);\n\n    }else{\n\n       line(bars.x[n]+20, bars.y[n],bars.x[n]+30, bars.y[n]-8);\n\n    line(bars.x[n]+20, bars.y[n]-12,bars.x[n]+30, bars.y[n]-8);\n\n     line(bars.x[n]+20, bars.y[n]-12,bars.x[n]+30, bars.y[n]-16);\n\n      line(bars.x[n]+20, bars.y[n]-20,bars.x[n]+30, bars.y[n]-16); \n\n    }\n\n    \n\n    }else if(bars.type[n]===6&&!bars.used[n]){\n\n    noStroke();\n\n    fill(255, 0, 0);\n\n    arc(bars.x[n]+25, bars.y[n], 30, 35, -196, 2);\n\n    fill(255, 221, 0);\n\n    arc(bars.x[n]+25, bars.y[n], 30, 35, -140, -110);\n\n    arc(bars.x[n]+25, bars.y[n], 30, 35, -70, -40);\n\n    fill(148, 142, 142);\n\n\n\n    ellipse(bars.x[n]+25, bars.y[n]-20,25,8);\n\n    \n\n    }else if(bars.type[n]===7&&!bars.used[n]){\n\n\n\n        strokeWeight(2);\n\n        stroke(0, 0, 0);\n\n        fill(138, 128, 128);\n\n        rect(bars.x[n]+15,bars.y[n]-25,20,5);\n\n        rect(bars.x[n]+15,bars.y[n]-10,20,5);\n\n        arc(bars.x[n]+15,bars.y[n],15,80,-179,0);\n\n        arc(bars.x[n]+35,bars.y[n],15,80,-179,0);\n\n        fill(247, 255, 0);\n\n        arc(bars.x[n]+15,bars.y[n]-30,10,20,-179,0);\n\n        arc(bars.x[n]+35,bars.y[n]-30,10,20,-179,0);\n\n        line(bars.x[n]+32,bars.y[n]-5,bars.x[n]+37,bars.y[n]-5);\n\n        line(bars.x[n]+32,bars.y[n]-8,bars.x[n]+37,bars.y[n]-8);\n\n        line(bars.x[n]+12,bars.y[n]-5,bars.x[n]+17,bars.y[n]-5);\n\n        line(bars.x[n]+12,bars.y[n]-8,bars.x[n]+17,bars.y[n]-8);\n\n    }\n\n\n\n    fill(72, 255, 0);\n\n    strokeWeight(2);\n\n    if(bars.type[n]===12||bars.type[n]===12){\n\n        fill(12, 157, 235);\n\n        bars.x[n]+=bars.veloc[n];\n\n        if(bars.x[n]>bars.Rmax[n]){\n\n            bars.veloc[n]=-4;\n\n        }\n\n        if(bars.x[n]<bars.Rmax[n]-100){\n\n            bars.veloc[n]=4;\n\n        }\n\n        \n\n    }\n\n    stroke(0, 0, 0);\n\n    rect(bars.x[n], bars.y[n], 50,10,6);\n\n    noStroke();\n\n    fill(237, 234, 237,190);\n\n    rect(bars.x[n]+5, bars.y[n]+4,5,3);\n\n};\n\n\n\nvar scroll = function(){\n\n    if(jumping){\n\n    charY = 140;\n\n    for(var n=bars.x.length-5;n<bars.y.length;n++){\n\n    bars.y[n]+=jumpSpeed*2;\n\n    score += jumpSpeed/3;\n\n    }\n\n    for(var i=monsters.x.length-5;i<monsters.x.length;i++){\n\n        monsters.y[i]+=jumpSpeed*2;\n\n    }\n\n    spawnMonsters();\n\n    }\n\n};\n\n\n\nvar jump = function(){\n\n    \n\n    charY -=jumpSpeed*1.5;\n\n    if(loopCount === 1){\n\n        if(jumpSpeed>2){\n\n            jumpSpeed--;\n\n        }else{\n\n            jumping=false;\n\n        }\n\n    }\n\n    \n\n};\n\n\n\nvar fall = function(){\n\n    \n\n    charY += fallSpeed*1.5;\n\n    if(loopCount === 1){\n\n   if(fallSpeed<12){\n\n   fallSpeed++;\n\n    }else{\n\n      \n\n    }\n\n    }\n\n};\n\n\n\nvar spring = function(n) {\n\n    //powerUp=1;\n\n    jumpSpeed=springSpeed;\n\n    var rd = 9;\n\n    if (keyIsPressed&&keyCode===SHIFT){\n\n        jumpSpeed=springSpeed*springInc;\n\n        rd/=3;\n\n    } \n\n    bars.used[n]=1;\n\n    score+=100;\n\n    if (round(random(rd))===2){\n\n        dazeTime=90/rd;\n\n    }\n\n};\n\n\n\nvar bounce = function(n){\n\n    \n\n     feetX = charX+-15;\n\nfeetY = charY+40 ;\n\n    \n\n    if (powerLeft < 0) {\n\n        powerLeft = 0;\n\n    }\n\n    \n\n    if(!dazed){\n\n    if(feetX>bars.x[n]-40 && feetX<bars.x[n]+60 && feetY>bars.y[n]-5 && feetY<bars.y[n]+15){\n\n        \n\n        if(bars.used[n]!==1){\n\n        \n\n        //spring\n\n        if(bars.type[n]===3||bars.type[n]===4||bars.type[n]===5){\n\n            if (powerUp!==2&&flashing===false){\n\n                if (powerUp===3){\n\n                    if (keyCode!==UP&&keyIsPressed){\n\n                        spring(n);\n\n                    }\n\n                    if (keyIsPressed===false){\n\n                        spring(n);\n\n                    }\n\n                } else {\n\n                    spring(n);\n\n                }\n\n                \n\n            }\n\n        //propeller cap\n\n        }else if (bars.type[n]===6){\n\n            if (powerUp!==3&&flashing===false){\n\n                powerUp=2;\n\n                bars.used[n]=1;\n\n                powerLeft+=propTime/pbonusGain;\n\n                if (powerLeft>propTime){\n\n                    powerLeft=propTime;\n\n                }\n\n                powerLeft=propTime/pbonusGain;\n\n                score+=200;\n\n            }\n\n        }else if (bars.type[n]===7){\n\n            if (powerUp!==2&&flashing===false){\n\n                powerUp=3;\n\n                bars.used[n]=1;\n\n                powerLeft+=rocketTime/rbonusGain;\n\n                if (powerLeft>rocketTime){\n\n                    powerLeft=rocketTime;\n\n                }\n\n                score+=300;\n\n            }\n\n        }else{\n\n            //powerUp=0;\n\n        }\n\n        }\n\n        brace=6;\n\n        //}\n\n        \n\n        falling = false;\n\n        jumping=true;\n\n        \n\n    }\n\n    for(var i=monsters.x.length-3;i<monsters.x.length;i++){\n\n    \n\n    if(monsters.type[i]===1){\n\n    if(feetX>monsters.x[i]-40 && feetX<monsters.x[i]+40 && feetY>monsters.y[i]-20 && feetY<monsters.y[i]+0){\n\n        \n\n        falling = false;\n\n        jumping=true;\n\n        monsters.type[i]=0;\n\n        monsters.x[i]=0;\n\n        monsters.y[i]=0;\n\n        brace=6;\n\n        score+=100;\n\n    }\n\n    }\n\n    if(monsters.type[i]===2){\n\n         \n\n        if(feetX>monsters.x[i]-30 && feetX<monsters.x[i]+80 && feetY>monsters.y[i]-25 && feetY<monsters.y[i]+0){\n\n        \n\n        falling = false;\n\n        jumping=true;\n\n        monsters.type[i]=0;\n\n        monsters.x[i]=0;\n\n        monsters.y[i]=0;\n\n        brace=6;\n\n        score+=100;\n\n    }\n\n    }\n\n    \n\n    }\n\n    }\n\n};\n\n\n\nvar spawnBars=function(){\n\n    for(var n=bars.x.length-4;n<bars.x.length;n++){  \n\n    if(bars.y[n-1]>520){\n\n       bars.x.length++;\n\n       bars.x[bars.x.length-1]=random(50,350);\n\n       bars.y.length++;\n\n       bars.y[bars.y.length-1]=random(-180,-120);\n\n       bars.type.length++;\n\n       for(;bars.y[bars.y.length-2]>bars.y[bars.y.length-1]+120;bars.y[bars.y.length-1]+=10){  }\n\n       bars.type[bars.y.length-1]=round(random(0,35));\n\n       bars.used[bars.y.length-1]=0;\n\n       if(bars.type[bars.y.length-1]===12||bars.type[bars.y.length-1]===13){\n\n           bars.Rmax[bars.y.length-1]=bars.x[bars.y.length-1]+100;\n\n           if(bars.Rmax[bars.y.length-1]>350){\n\n               bars.Rmax[bars.y.length-1]=350;\n\n           }\n\n       }\n\n       bars.veloc[bars.y.length-1]=4;\n\n   }\n\n    }\n\n    \n\n};\n\n\n\nvar draw = function() {\n\n    \n\n   \n\n   \n\n    \n\n    //background graph paper\n\n    background(250, 250, 250);\n\n    count();\n\n    graph();\n\n    \n\nif(!state){\nstroke(0, 0, 0);\ntextSize(26);\ntext(\"Sketch jump\",138,85);\ntext(\"100 Votes\",138,358);\nmakeButton(180,182,\"START\",start);\nfeetX = charX+-15;\nfeetY = charY+40 ;\nstroke(0, 0, 0);\nfill(72, 255, 0);\nrect(280,300, 50,10,6);\nif(feetX>280-40 && feetX<280+60 && feetY>300-5 && feetY<300+15){\nfalling = false;\njumping=true; \n}\n}\n//draw man\nnoStroke();\ndrawChar();\nif(state===1){\npowers();\nfor(var t=0;t<bars.x.length;t++){\n\n    if(t<520){\n\n    spawnBars(bars.x.length-(5-t));\n\n    drawSteps(bars.x.length-(5-t));\n\n    bounce(bars.x.length-(5-t));\n\n    }\n\n    }\n\n    if(charY<140){\n\n   scroll(bars.x.length-(5-t));\n\n    }\n\n\n/** Put this in your draw function**/\n   getDamage();\n\n   drawMonsters();\n\n    }\n\n   \n\n   //jump\n\n   if(jumping){\n\n   jump();\n\n   }else{\n\n       jumpSpeed = 11.5;\n\n   }\n\n   \n\n   //fall\n\n   if(falling){\n\n       fall();\n\n   }else{\n\n       fallSpeed = 2;\n\n   }\n\n   if(state===1){\n\n   //move\n\n   if(goRight){\n\n      charX+= velocity; \n\n      charY-=0.4;\n\n   }\n\n   if(goLeft){\n\n       charX-= velocity;\n\n       charY-=0.4;\n\n   }\n\n   }\n\n   stroke(0, 0, 0);\n\n   fill(117, 110, 110,120);\n\n   rect(0,-5,400,25);\n\n   //data\n\n   fill(0, 0, 0);\n\n   //text(round(ifSpring)+\"---\"+spring1, 100,50);\n\n   textFont(scoreText,18);\n\n   text(round(score), 5, 16.5);\n\n   //Ôø¨ leave this here ‚¨á\n\n   rotate(90);\n\n   textSize(8);\n\n   text(\"Doodle Jump is Property of Lima Sky, Code is by Nordituck, Improvements by Timothy Walker\",-157,-3);\n\n   resetMatrix();\n\n   //Ôø™ leave this here ‚¨Ü\n\n   textFont(normText,12);\n\n   /*\n\n   text(round(bars.x[1])+\" - \"+round(bars.y[1]),100,100);\n\n   text(spawn,100,30); \n\n   */\n\n   //println(brace);\n\n   spawn=\"___\";\n\n    \n\n    if(!jumping){\n\n        falling=true;\n\n    }else{\n\n        falling = false;\n\n    }\n\n     \n\n    brace--; \n\n    \n\n    if (lives<=0){\n\n        dead=true;\n\n        jumping=false;\n\n        falling=false;\n\n        res();\n\n        charY=450;\n\n    }\n\n    \n\n    if(charY>=460){\n\n        lives-=2;\n\n        if (lives>0){\n\n            charY=100;\n\n        }\n\n        falling=false;\n\n        flashing=true;\n\n        flash=20;\n\n        dazeTime=0;\n\n        dazed=false;\n\n    }\n\n    \n\n    if (charX>=410){\n\n        charX=0;\n\n    }\n\n    if (charX<=-10){\n\n        charX=400;\n\n    }\n\n};\n\n\n\n\n\n\n\nvar keyPressed = function(){\n\n    \n\n    \n\n    if(keyCode===LEFT){\n\n       \n\n      \n\n       facingRight = false;\n\n       goLeft=true;   \n\n    }\n\n    \n\n    if(keyCode===RIGHT){\n\n     facingRight = true;\n\n     goRight=true;\n\n    }\n\n    \n\n};\n\n\n\nvar keyReleased = function(){\n\n    \n\n    if(keyCode===LEFT){\n\n       goLeft=false;\n\n       velocity=8;\n\n      \n\n    }\n\n     \n\n      if(keyCode===RIGHT){\n\n        \n\n        goRight=false;\n\n       velocity=8;\n\n        \n\n    }\n\n    \n\n    if(keyCode===ENTER&&state){\n\n        \n\n        restart();\n\n    }\n\n   if(frameCount%2500===0||score%5>4550&&lives<7){\n       lives+=1;\n   }\n      if(frameCount%25000===0){\n       lives+=4;\n   }\n\n\n};\n\n";
window.liveEditor = new LiveEditor({
                el: $("#sample-live-editor"),
                code: code,
                width: 400,
                height: 400,
                editorHeight: "80%",
                autoFocus: true,
                workersDir: "../../build/workers/",
                externalsDir: "../../build/external/",
                imagesDir: "../../build/images/",
                soundsDir: "../../sounds/",
                execFile: outputUrl,
                jshintFile: "../../build/external/jshint/jshint.js",
                newErrorExperience: true,
            });
            liveEditor.editor.on("change", function() {
                window.localStorage["test-code"] = liveEditor.editor.text();
            });
            ScratchpadAutosuggest.init(liveEditor.editor.editor);
            </script>
        </body>
        </html>
        